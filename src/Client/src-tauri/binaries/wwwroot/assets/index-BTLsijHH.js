var _s=Object.defineProperty;var js=(t,e,r)=>e in t?_s(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var rn=(t,e,r)=>js(t,typeof e!="symbol"?e+"":e,r);import{h as eo,r as u,m as to,o as no,p as Qe,q as wr,j as k,s as ro,t as qt,v as Hs,w as oo,x as dn,y as An,z as Vs,A as zs,B as so,C as Ye,D as mn,E as Ws,F as io,G as Bs,H as Nn,I as Ks,J as $s,K as Us,M as Ys,P as Gs,Q as qs,T as Xs,U as Zs,V as Js,W as Qs,X as ei,Y as ti,Z as ni,_ as ri,$ as oi,c as Zt,a0 as si,a1 as ii,k as $t,f as ci,a2 as li}from"./index-_vJHe0oM.js";import{C as Rr,b as Er,c as Ir,d as Cr,a as Sr}from"./card-5a8OwMZI.js";import{E as co}from"./enhanced-button-CUT0MAbl.js";import{u as zn}from"./useQuery-BdyAwn5H.js";import{u as Wn}from"./useMutation-0UaTLUn9.js";import{F as ui,a as ai,b as fi,c as di,d as mi,e as pi,f as gi,t as hi}from"./zod-KirBnuy0.js";import{u as vi,z as on}from"./index-Cljsltwk.js";import{X as lo}from"./x-C61GwT2n.js";import{b as uo,p as bi}from"./react-query.gen-KD5ZsEyq.js";import{I as yi}from"./icons-stbk7nY0.js";import{B as sn}from"./badge-BRKXVVmH.js";import{C as xi}from"./check-CUgUruzn.js";import"./suspense-CFdXitkI.js";import"./label-5eQ_BX-X.js";import"./loader-2-BZ5HxNZN.js";const wi=eo("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),Ri=eo("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);function Ei(t,e=!1){return window.__TAURI_INTERNALS__.transformCallback(t,e)}async function Ut(t,e={},r){return window.__TAURI_INTERNALS__.invoke(t,e,r)}function Ii(){return!!(globalThis||window).isTauri}var Tr;(function(t){t.WINDOW_RESIZED="tauri://resize",t.WINDOW_MOVED="tauri://move",t.WINDOW_CLOSE_REQUESTED="tauri://close-requested",t.WINDOW_DESTROYED="tauri://destroyed",t.WINDOW_FOCUS="tauri://focus",t.WINDOW_BLUR="tauri://blur",t.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",t.WINDOW_THEME_CHANGED="tauri://theme-changed",t.WINDOW_CREATED="tauri://window-created",t.WEBVIEW_CREATED="tauri://webview-created",t.DRAG_ENTER="tauri://drag-enter",t.DRAG_OVER="tauri://drag-over",t.DRAG_DROP="tauri://drag-drop",t.DRAG_LEAVE="tauri://drag-leave"})(Tr||(Tr={}));async function Ci(t,e){await Ut("plugin:event|unlisten",{event:t,eventId:e})}async function Pn(t,e,r){var o;const n=(o=void 0)!==null&&o!==void 0?o:{kind:"Any"};return Ut("plugin:event|listen",{event:t,target:n,handler:Ei(e)}).then(c=>async()=>Ci(t,c))}var W={};/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Si=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],gn=Si.join(","),ao=typeof Element>"u",_t=ao?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,hn=!ao&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},vn=function t(e,r){var o;r===void 0&&(r=!0);var n=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),c=n===""||n==="true",s=c||r&&e&&t(e.parentNode);return s},Ti=function(e){var r,o=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return o===""||o==="true"},fo=function(e,r,o){if(vn(e))return[];var n=Array.prototype.slice.apply(e.querySelectorAll(gn));return r&&_t.call(e,gn)&&n.unshift(e),n=n.filter(o),n},mo=function t(e,r,o){for(var n=[],c=Array.from(e);c.length;){var s=c.shift();if(!vn(s,!1))if(s.tagName==="SLOT"){var l=s.assignedElements(),m=l.length?l:s.children,a=t(m,!0,o);o.flatten?n.push.apply(n,a):n.push({scopeParent:s,candidates:a})}else{var f=_t.call(s,gn);f&&o.filter(s)&&(r||!e.includes(s))&&n.push(s);var b=s.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(s),v=!vn(b,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(s));if(b&&v){var h=t(b===!0?s.children:b.children,!0,o);o.flatten?n.push.apply(n,h):n.push({scopeParent:s,candidates:h})}else c.unshift.apply(c,s.children)}}return n},po=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},go=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Ti(e))&&!po(e)?0:e.tabIndex},Ai=function(e,r){var o=go(e);return o<0&&r&&!po(e)?0:o},Ni=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},ho=function(e){return e.tagName==="INPUT"},Pi=function(e){return ho(e)&&e.type==="hidden"},Oi=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return r},Mi=function(e,r){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===r)return e[o]},ki=function(e){if(!e.name)return!0;var r=e.form||hn(e),o=function(l){return r.querySelectorAll('input[type="radio"][name="'+l+'"]')},n;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")n=o(window.CSS.escape(e.name));else try{n=o(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var c=Mi(n,e.form);return!c||c===e},Di=function(e){return ho(e)&&e.type==="radio"},Li=function(e){return Di(e)&&!ki(e)},Fi=function(e){var r,o=e&&hn(e),n=(r=o)===null||r===void 0?void 0:r.host,c=!1;if(o&&o!==e){var s,l,m;for(c=!!((s=n)!==null&&s!==void 0&&(l=s.ownerDocument)!==null&&l!==void 0&&l.contains(n)||e!=null&&(m=e.ownerDocument)!==null&&m!==void 0&&m.contains(e));!c&&n;){var a,f,b;o=hn(n),n=(a=o)===null||a===void 0?void 0:a.host,c=!!((f=n)!==null&&f!==void 0&&(b=f.ownerDocument)!==null&&b!==void 0&&b.contains(n))}}return c},Ar=function(e){var r=e.getBoundingClientRect(),o=r.width,n=r.height;return o===0&&n===0},_i=function(e,r){var o=r.displayCheck,n=r.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var c=_t.call(e,"details>summary:first-of-type"),s=c?e.parentElement:e;if(_t.call(s,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof n=="function"){for(var l=e;e;){var m=e.parentElement,a=hn(e);if(m&&!m.shadowRoot&&n(m)===!0)return Ar(e);e.assignedSlot?e=e.assignedSlot:!m&&a!==e.ownerDocument?e=a.host:e=m}e=l}if(Fi(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return Ar(e);return!1},ji=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var o=0;o<r.children.length;o++){var n=r.children.item(o);if(n.tagName==="LEGEND")return _t.call(r,"fieldset[disabled] *")?!0:!n.contains(e)}return!0}r=r.parentElement}return!1},Bn=function(e,r){return!(r.disabled||vn(r)||Pi(r)||_i(r,e)||Oi(r)||ji(r))},Kn=function(e,r){return!(Li(r)||go(r)<0||!Bn(e,r))},Hi=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},Vi=function t(e){var r=[],o=[];return e.forEach(function(n,c){var s=!!n.scopeParent,l=s?n.scopeParent:n,m=Ai(l,s),a=s?t(n.candidates):l;m===0?s?r.push.apply(r,a):r.push(l):o.push({documentOrder:c,tabIndex:m,item:n,isScope:s,content:a})}),o.sort(Ni).reduce(function(n,c){return c.isScope?n.push.apply(n,c.content):n.push(c.content),n},[]).concat(r)},wn=function(e,r){r=r||{};var o;return r.getShadowRoot?o=mo([e],r.includeContainer,{filter:Kn.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:Hi}):o=fo(e,r.includeContainer,Kn.bind(null,r)),Vi(o)},zi=function(e,r){r=r||{};var o;return r.getShadowRoot?o=mo([e],r.includeContainer,{filter:Bn.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):o=fo(e,r.includeContainer,Bn.bind(null,r)),o},vo=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return _t.call(e,gn)===!1?!1:Kn(r,e)};function Zn(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function Jn(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:r,version:o}=e;return r+"/"+o}).join(" "):navigator.userAgent}function bo(){return/apple/i.test(navigator.vendor)}function $n(){const t=/android/i;return t.test(Zn())||t.test(Jn())}function Wi(){return Zn().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function yo(){return Jn().includes("jsdom/")}const Nr="data-floating-ui-focusable",Bi="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])",On="ArrowLeft",Mn="ArrowRight",Ki="ArrowUp",$i="ArrowDown";function st(t){let e=t.activeElement;for(;((r=e)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;e=e.shadowRoot.activeElement}return e}function je(t,e){if(!t||!e)return!1;const r=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(r&&no(r)){let o=e;for(;o;){if(t===o)return!0;o=o.parentNode||o.host}}return!1}function ft(t){return"composedPath"in t?t.composedPath()[0]:t.target}function kn(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const r=t;return r.target!=null&&e.contains(r.target)}function Ui(t){return t.matches("html,body")}function $e(t){return(t==null?void 0:t.ownerDocument)||document}function Qn(t){return Qe(t)&&t.matches(Bi)}function Un(t){return t?t.getAttribute("role")==="combobox"&&Qn(t):!1}function Yi(t){if(!t||yo())return!0;try{return t.matches(":focus-visible")}catch{return!0}}function bn(t){return t?t.hasAttribute(Nr)?t:t.querySelector("["+Nr+"]")||t:null}function Lt(t,e,r){r===void 0&&(r=!0);let o=t.filter(c=>{var s;return c.parentId===e&&((s=c.context)==null?void 0:s.open)}),n=o;for(;n.length;)n=r?t.filter(c=>{var s;return(s=n)==null?void 0:s.some(l=>{var m;return c.parentId===l.id&&((m=c.context)==null?void 0:m.open)})}):t,o=o.concat(n);return o}function Gi(t,e){let r,o=-1;function n(c,s){s>o&&(r=c,o=s),Lt(t,c).forEach(m=>{n(m.id,s+1)})}return n(e,0),t.find(c=>c.id===r)}function Pr(t,e){var r;let o=[],n=(r=t.find(c=>c.id===e))==null?void 0:r.parentId;for(;n;){const c=t.find(s=>s.id===n);n=c==null?void 0:c.parentId,c&&(o=o.concat(c))}return o}function Ke(t){t.preventDefault(),t.stopPropagation()}function qi(t){return"nativeEvent"in t}function xo(t){return t.mozInputSource===0&&t.isTrusted?!0:$n()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function wo(t){return yo()?!1:!$n()&&t.width===0&&t.height===0||$n()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function jt(t,e){const r=["mouse","pen"];return e||r.push("",void 0),r.includes(t)}var pe=typeof document<"u"?u.useLayoutEffect:u.useEffect;const Xi={...to};function He(t){const e=u.useRef(t);return pe(()=>{e.current=t}),e}const Zi=Xi.useInsertionEffect,Ji=Zi||(t=>t());function Oe(t){const e=u.useRef(()=>{});return Ji(()=>{e.current=t}),u.useCallback(function(){for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return e.current==null?void 0:e.current(...o)},[])}function cn(t,e,r){return Math.floor(t/e)!==r}function Ft(t,e){return e<0||e>=t.current.length}function pn(t,e){return Be(t,{disabledIndices:e})}function Yn(t,e){return Be(t,{decrement:!0,startingIndex:t.current.length,disabledIndices:e})}function Be(t,e){let{startingIndex:r=-1,decrement:o=!1,disabledIndices:n,amount:c=1}=e===void 0?{}:e,s=r;do s+=o?-c:c;while(s>=0&&s<=t.current.length-1&&It(t,s,n));return s}function Ro(t,e){let{event:r,orientation:o,loop:n,rtl:c,cols:s,disabledIndices:l,minIndex:m,maxIndex:a,prevIndex:f,stopEvent:b=!1}=e,v=f;if(r.key===Ki){if(b&&Ke(r),f===-1)v=a;else if(v=Be(t,{startingIndex:v,amount:s,decrement:!0,disabledIndices:l}),n&&(f-s<m||v<0)){const h=f%s,y=a%s,g=a-(y-h);y===h?v=a:v=y>h?g:g-s}Ft(t,v)&&(v=f)}if(r.key===$i&&(b&&Ke(r),f===-1?v=m:(v=Be(t,{startingIndex:f,amount:s,disabledIndices:l}),n&&f+s>a&&(v=Be(t,{startingIndex:f%s-s,amount:s,disabledIndices:l}))),Ft(t,v)&&(v=f)),o==="both"){const h=wr(f/s);r.key===(c?On:Mn)&&(b&&Ke(r),f%s!==s-1?(v=Be(t,{startingIndex:f,disabledIndices:l}),n&&cn(v,s,h)&&(v=Be(t,{startingIndex:f-f%s-1,disabledIndices:l}))):n&&(v=Be(t,{startingIndex:f-f%s-1,disabledIndices:l})),cn(v,s,h)&&(v=f)),r.key===(c?Mn:On)&&(b&&Ke(r),f%s!==0?(v=Be(t,{startingIndex:f,decrement:!0,disabledIndices:l}),n&&cn(v,s,h)&&(v=Be(t,{startingIndex:f+(s-f%s),decrement:!0,disabledIndices:l}))):n&&(v=Be(t,{startingIndex:f+(s-f%s),decrement:!0,disabledIndices:l})),cn(v,s,h)&&(v=f));const y=wr(a/s)===h;Ft(t,v)&&(n&&y?v=r.key===(c?Mn:On)?a:Be(t,{startingIndex:f-f%s-1,disabledIndices:l}):v=f)}return v}function Eo(t,e,r){const o=[];let n=0;return t.forEach((c,s)=>{let{width:l,height:m}=c,a=!1;for(r&&(n=0);!a;){const f=[];for(let b=0;b<l;b++)for(let v=0;v<m;v++)f.push(n+b+v*e);n%e+l<=e&&f.every(b=>o[b]==null)?(f.forEach(b=>{o[b]=s}),a=!0):n++}}),[...o]}function Io(t,e,r,o,n){if(t===-1)return-1;const c=r.indexOf(t),s=e[t];switch(n){case"tl":return c;case"tr":return s?c+s.width-1:c;case"bl":return s?c+(s.height-1)*o:c;case"br":return r.lastIndexOf(t)}}function Co(t,e){return e.flatMap((r,o)=>t.includes(r)?[o]:[])}function It(t,e,r){if(r)return r.includes(e);const o=t.current[e];return o==null||o.hasAttribute("disabled")||o.getAttribute("aria-disabled")==="true"}const Jt=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function So(t,e){const r=wn(t,Jt()),o=r.length;if(o===0)return;const n=st($e(t)),c=r.indexOf(n),s=c===-1?e===1?0:o-1:c+e;return r[s]}function To(t){return So($e(t).body,1)||t}function Ao(t){return So($e(t).body,-1)||t}function Yt(t,e){const r=e||t.currentTarget,o=t.relatedTarget;return!o||!je(r,o)}function Qi(t){wn(t,Jt()).forEach(r=>{r.dataset.tabindex=r.getAttribute("tabindex")||"",r.setAttribute("tabindex","-1")})}function Or(t){t.querySelectorAll("[data-tabindex]").forEach(r=>{const o=r.dataset.tabindex;delete r.dataset.tabindex,o?r.setAttribute("tabindex",o):r.removeAttribute("tabindex")})}function No(t){const e=u.useRef(void 0),r=u.useCallback(o=>{const n=t.map(c=>{if(c!=null){if(typeof c=="function"){const s=c,l=s(o);return typeof l=="function"?l:()=>{s(null)}}return c.current=o,()=>{c.current=null}}});return()=>{n.forEach(c=>c==null?void 0:c())}},t);return u.useMemo(()=>t.every(o=>o==null)?null:o=>{e.current&&(e.current(),e.current=void 0),o!=null&&(e.current=r(o))},t)}function ec(t,e){const r=t.compareDocumentPosition(e);return r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS?1:0}const Po=u.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function Oo(t){const{children:e,elementsRef:r,labelsRef:o}=t,[n,c]=u.useState(()=>new Set),s=u.useCallback(a=>{c(f=>new Set(f).add(a))},[]),l=u.useCallback(a=>{c(f=>{const b=new Set(f);return b.delete(a),b})},[]),m=u.useMemo(()=>{const a=new Map;return Array.from(n.keys()).sort(ec).forEach((b,v)=>{a.set(b,v)}),a},[n]);return k.jsx(Po.Provider,{value:u.useMemo(()=>({register:s,unregister:l,map:m,elementsRef:r,labelsRef:o}),[s,l,m,r,o]),children:e})}function Mo(t){t===void 0&&(t={});const{label:e}=t,{register:r,unregister:o,map:n,elementsRef:c,labelsRef:s}=u.useContext(Po),[l,m]=u.useState(null),a=u.useRef(null),f=u.useCallback(b=>{if(a.current=b,l!==null&&(c.current[l]=b,s)){var v;const h=e!==void 0;s.current[l]=h?e:(v=b==null?void 0:b.textContent)!=null?v:null}},[l,c,s,e]);return pe(()=>{const b=a.current;if(b)return r(b),()=>{o(b)}},[r,o]),pe(()=>{const b=a.current?n.get(a.current):null;b!=null&&m(b)},[n]),u.useMemo(()=>({ref:f,index:l??-1}),[l,f])}const tc="data-floating-ui-focusable",Mr="active",kr="selected",ht="ArrowLeft",vt="ArrowRight",Xt="ArrowUp",gt="ArrowDown";function ko(t,e){return typeof t=="function"?t(e):t?u.cloneElement(t,e):k.jsx("div",{...e})}const Do=u.createContext({activeIndex:0,onNavigate:()=>{}}),Lo=[ht,vt],Fo=[Xt,gt],Dn=[...Lo,...Fo],nc=u.forwardRef(function(e,r){const{render:o,orientation:n="both",loop:c=!0,rtl:s=!1,cols:l=1,disabledIndices:m,activeIndex:a,onNavigate:f,itemSizes:b,dense:v=!1,...h}=e,[y,g]=u.useState(0),I=a??y,H=Oe(f??g),C=u.useRef([]),P=o&&typeof o!="function"?o.props:{},j=u.useMemo(()=>({activeIndex:I,onNavigate:H}),[I,H]),oe=l>1;function $(B){if(!Dn.includes(B.key))return;let U=I;const K=pn(C,m),se=Yn(C,m),ee=s?ht:vt,Z=s?vt:ht;if(oe){const T=b||Array.from({length:C.current.length},()=>({width:1,height:1})),O=Eo(T,l,v),Y=O.findIndex(X=>X!=null&&!It(C,X,m)),me=O.reduce((X,he,Pe)=>he!=null&&!It(C,he,m)?Pe:X,-1),D=O[Ro({current:O.map(X=>X?C.current[X]:null)},{event:B,orientation:n,loop:c,rtl:s,cols:l,disabledIndices:Co([...m||C.current.map((X,he)=>It(C,he)?he:void 0),void 0],O),minIndex:Y,maxIndex:me,prevIndex:Io(I>se?K:I,T,O,l,B.key===gt?"bl":B.key===ee?"tr":"tl")})];D!=null&&(U=D)}const R={horizontal:[ee],vertical:[gt],both:[ee,gt]}[n],E={horizontal:[Z],vertical:[Xt],both:[Z,Xt]}[n],J=oe?Dn:{horizontal:Lo,vertical:Fo,both:Dn}[n];if(U===I&&[...R,...E].includes(B.key)&&(c&&U===se&&R.includes(B.key)?U=K:c&&U===K&&E.includes(B.key)?U=se:U=Be(C,{startingIndex:U,decrement:E.includes(B.key),disabledIndices:m})),U!==I&&!Ft(C,U)){var z;B.stopPropagation(),J.includes(B.key)&&B.preventDefault(),H(U),(z=C.current[U])==null||z.focus()}}const F={...h,...P,ref:r,"aria-orientation":n==="both"?void 0:n,onKeyDown(B){h.onKeyDown==null||h.onKeyDown(B),P.onKeyDown==null||P.onKeyDown(B),$(B)}};return k.jsx(Do.Provider,{value:j,children:k.jsx(Oo,{elementsRef:C,children:ko(o,F)})})}),rc=u.forwardRef(function(e,r){const{render:o,...n}=e,c=o&&typeof o!="function"?o.props:{},{activeIndex:s,onNavigate:l}=u.useContext(Do),{ref:m,index:a}=Mo(),f=No([m,r,c.ref]),b=s===a,v={...n,...c,ref:f,tabIndex:b?0:-1,"data-active":b?"":void 0,onFocus(h){n.onFocus==null||n.onFocus(h),c.onFocus==null||c.onFocus(h),l(a)}};return ko(o,v)}),oc={...to};let Dr=!1,sc=0;const Lr=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+sc++;function ic(){const[t,e]=u.useState(()=>Dr?Lr():void 0);return pe(()=>{t==null&&e(Lr())},[]),u.useEffect(()=>{Dr=!0},[]),t}const cc=oc.useId,Ht=cc||ic,lc=u.forwardRef(function(e,r){const{context:{placement:o,elements:{floating:n},middlewareData:{arrow:c,shift:s}},width:l=14,height:m=7,tipRadius:a=0,strokeWidth:f=0,staticOffset:b,stroke:v,d:h,style:{transform:y,...g}={},...I}=e,H=Ht(),[C,P]=u.useState(!1);if(pe(()=>{if(!n)return;ro(n).direction==="rtl"&&P(!0)},[n]),!n)return null;const[j,oe]=o.split("-"),$=j==="top"||j==="bottom";let F=b;($&&s!=null&&s.x||!$&&s!=null&&s.y)&&(F=null);const B=f*2,U=B/2,K=l/2*(a/-8+1),se=m/2*a/4,ee=!!h,Z=F&&oe==="end"?"bottom":"top";let R=F&&oe==="end"?"right":"left";F&&C&&(R=oe==="end"?"left":"right");const E=(c==null?void 0:c.x)!=null?F||c.x:"",J=(c==null?void 0:c.y)!=null?F||c.y:"",z=h||"M0,0"+(" H"+l)+(" L"+(l-K)+","+(m-se))+(" Q"+l/2+","+m+" "+K+","+(m-se))+" Z",T={top:ee?"rotate(180deg)":"",left:ee?"rotate(90deg)":"rotate(-90deg)",bottom:ee?"":"rotate(180deg)",right:ee?"rotate(-90deg)":"rotate(90deg)"}[j];return k.jsxs("svg",{...I,"aria-hidden":!0,ref:r,width:ee?l:l+B,height:l,viewBox:"0 0 "+l+" "+(m>l?m:l),style:{position:"absolute",pointerEvents:"none",[R]:E,[Z]:J,[j]:$||ee?"100%":"calc(100% - "+B/2+"px)",transform:[T,y].filter(O=>!!O).join(" "),...g},children:[B>0&&k.jsx("path",{clipPath:"url(#"+H+")",fill:"none",stroke:v,strokeWidth:B+(h?0:1),d:z}),k.jsx("path",{stroke:B&&!h?I.fill:"none",d:z}),k.jsx("clipPath",{id:H,children:k.jsx("rect",{x:-U,y:U*(ee?-1:1),width:l+B,height:l})})]})});function _o(){const t=new Map;return{emit(e,r){var o;(o=t.get(e))==null||o.forEach(n=>n(r))},on(e,r){t.has(e)||t.set(e,new Set),t.get(e).add(r)},off(e,r){var o;(o=t.get(e))==null||o.delete(r)}}}const jo=u.createContext(null),Ho=u.createContext(null),St=()=>{var t;return((t=u.useContext(jo))==null?void 0:t.id)||null},Tt=()=>u.useContext(Ho);function uc(t){const e=Ht(),r=Tt(),o=St(),n=t||o;return pe(()=>{if(!e)return;const c={id:e,parentId:n};return r==null||r.addNode(c),()=>{r==null||r.removeNode(c)}},[r,e,n]),e}function ac(t){const{children:e,id:r}=t,o=St();return k.jsx(jo.Provider,{value:u.useMemo(()=>({id:r,parentId:o}),[r,o]),children:e})}function fc(t){const{children:e}=t,r=u.useRef([]),o=u.useCallback(s=>{r.current=[...r.current,s]},[]),n=u.useCallback(s=>{r.current=r.current.filter(l=>l!==s)},[]),[c]=u.useState(()=>_o());return k.jsx(Ho.Provider,{value:u.useMemo(()=>({nodesRef:r,addNode:o,removeNode:n,events:c}),[o,n,c]),children:e})}function Ct(t){return"data-floating-ui-"+t}function Ge(t){t.current!==-1&&(clearTimeout(t.current),t.current=-1)}const Fr=Ct("safe-polygon");function Gt(t,e,r){if(r&&!jt(r))return 0;if(typeof t=="number")return t;if(typeof t=="function"){const o=t();return typeof o=="number"?o:o==null?void 0:o[e]}return t==null?void 0:t[e]}function Ln(t){return typeof t=="function"?t():t}function dc(t,e){e===void 0&&(e={});const{open:r,onOpenChange:o,dataRef:n,events:c,elements:s}=t,{enabled:l=!0,delay:m=0,handleClose:a=null,mouseOnly:f=!1,restMs:b=0,move:v=!0}=e,h=Tt(),y=St(),g=He(a),I=He(m),H=He(r),C=He(b),P=u.useRef(),j=u.useRef(-1),oe=u.useRef(),$=u.useRef(-1),F=u.useRef(!0),B=u.useRef(!1),U=u.useRef(()=>{}),K=u.useRef(!1),se=u.useCallback(()=>{var z;const T=(z=n.current.openEvent)==null?void 0:z.type;return(T==null?void 0:T.includes("mouse"))&&T!=="mousedown"},[n]);u.useEffect(()=>{if(!l)return;function z(T){let{open:O}=T;O||(Ge(j),Ge($),F.current=!0,K.current=!1)}return c.on("openchange",z),()=>{c.off("openchange",z)}},[l,c]),u.useEffect(()=>{if(!l||!g.current||!r)return;function z(O){se()&&o(!1,O,"hover")}const T=$e(s.floating).documentElement;return T.addEventListener("mouseleave",z),()=>{T.removeEventListener("mouseleave",z)}},[s.floating,r,o,l,g,se]);const ee=u.useCallback(function(z,T,O){T===void 0&&(T=!0),O===void 0&&(O="hover");const Y=Gt(I.current,"close",P.current);Y&&!oe.current?(Ge(j),j.current=window.setTimeout(()=>o(!1,z,O),Y)):T&&(Ge(j),o(!1,z,O))},[I,o]),Z=Oe(()=>{U.current(),oe.current=void 0}),R=Oe(()=>{if(B.current){const z=$e(s.floating).body;z.style.pointerEvents="",z.removeAttribute(Fr),B.current=!1}}),E=Oe(()=>n.current.openEvent?["click","mousedown"].includes(n.current.openEvent.type):!1);u.useEffect(()=>{if(!l)return;function z(D){if(Ge(j),F.current=!1,f&&!jt(P.current)||Ln(C.current)>0&&!Gt(I.current,"open"))return;const X=Gt(I.current,"open",P.current);X?j.current=window.setTimeout(()=>{H.current||o(!0,D,"hover")},X):r||o(!0,D,"hover")}function T(D){if(E()){R();return}U.current();const X=$e(s.floating);if(Ge($),K.current=!1,g.current&&n.current.floatingContext){r||Ge(j),oe.current=g.current({...n.current.floatingContext,tree:h,x:D.clientX,y:D.clientY,onClose(){R(),Z(),E()||ee(D,!0,"safe-polygon")}});const Pe=oe.current;X.addEventListener("mousemove",Pe),U.current=()=>{X.removeEventListener("mousemove",Pe)};return}(P.current==="touch"?!je(s.floating,D.relatedTarget):!0)&&ee(D)}function O(D){E()||n.current.floatingContext&&(g.current==null||g.current({...n.current.floatingContext,tree:h,x:D.clientX,y:D.clientY,onClose(){R(),Z(),E()||ee(D)}})(D))}function Y(){Ge(j)}function me(D){E()||ee(D,!1)}if(Ye(s.domReference)){const D=s.domReference,X=s.floating;return r&&D.addEventListener("mouseleave",O),v&&D.addEventListener("mousemove",z,{once:!0}),D.addEventListener("mouseenter",z),D.addEventListener("mouseleave",T),X&&(X.addEventListener("mouseleave",O),X.addEventListener("mouseenter",Y),X.addEventListener("mouseleave",me)),()=>{r&&D.removeEventListener("mouseleave",O),v&&D.removeEventListener("mousemove",z),D.removeEventListener("mouseenter",z),D.removeEventListener("mouseleave",T),X&&(X.removeEventListener("mouseleave",O),X.removeEventListener("mouseenter",Y),X.removeEventListener("mouseleave",me))}}},[s,l,t,f,v,ee,Z,R,o,r,H,h,I,g,n,E,C]),pe(()=>{var z;if(l&&r&&(z=g.current)!=null&&z.__options.blockPointerEvents&&se()){B.current=!0;const O=s.floating;if(Ye(s.domReference)&&O){var T;const Y=$e(s.floating).body;Y.setAttribute(Fr,"");const me=s.domReference,D=h==null||(T=h.nodesRef.current.find(X=>X.id===y))==null||(T=T.context)==null?void 0:T.elements.floating;return D&&(D.style.pointerEvents=""),Y.style.pointerEvents="none",me.style.pointerEvents="auto",O.style.pointerEvents="auto",()=>{Y.style.pointerEvents="",me.style.pointerEvents="",O.style.pointerEvents=""}}}},[l,r,y,s,h,g,se]),pe(()=>{r||(P.current=void 0,K.current=!1,Z(),R())},[r,Z,R]),u.useEffect(()=>()=>{Z(),Ge(j),Ge($),R()},[l,s.domReference,Z,R]);const J=u.useMemo(()=>{function z(T){P.current=T.pointerType}return{onPointerDown:z,onPointerEnter:z,onMouseMove(T){const{nativeEvent:O}=T;function Y(){!F.current&&!H.current&&o(!0,O,"hover")}f&&!jt(P.current)||r||Ln(C.current)===0||K.current&&T.movementX**2+T.movementY**2<2||(Ge($),P.current==="touch"?Y():(K.current=!0,$.current=window.setTimeout(Y,Ln(C.current))))}}},[f,o,r,H,C]);return u.useMemo(()=>l?{reference:J}:{},[l,J])}const Gn=()=>{},Vo=u.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:Gn,setState:Gn,isInstantPhase:!1}),zo=()=>u.useContext(Vo);function mc(t){const{children:e,delay:r,timeoutMs:o=0}=t,[n,c]=u.useReducer((m,a)=>({...m,...a}),{delay:r,timeoutMs:o,initialDelay:r,currentId:null,isInstantPhase:!1}),s=u.useRef(null),l=u.useCallback(m=>{c({currentId:m})},[]);return pe(()=>{n.currentId?s.current===null?s.current=n.currentId:n.isInstantPhase||c({isInstantPhase:!0}):(n.isInstantPhase&&c({isInstantPhase:!1}),s.current=null)},[n.currentId,n.isInstantPhase]),k.jsx(Vo.Provider,{value:u.useMemo(()=>({...n,setState:c,setCurrentId:l}),[n,l]),children:e})}function pc(t,e){e===void 0&&(e={});const{open:r,onOpenChange:o,floatingId:n}=t,{id:c,enabled:s=!0}=e,l=c??n,m=zo(),{currentId:a,setCurrentId:f,initialDelay:b,setState:v,timeoutMs:h}=m;return pe(()=>{s&&a&&(v({delay:{open:1,close:Gt(b,"close")}}),a!==l&&o(!1))},[s,l,o,v,a,b]),pe(()=>{function y(){o(!1),v({delay:b,currentId:null})}if(s&&a&&!r&&a===l){if(h){const g=window.setTimeout(y,h);return()=>{clearTimeout(g)}}y()}},[s,r,v,a,l,o,b,h]),pe(()=>{s&&(f===Gn||!r||f(l))},[s,r,f,l]),m}const Wo=u.createContext({hasProvider:!1,timeoutMs:0,delayRef:{current:0},initialDelayRef:{current:0},timeoutIdRef:{current:-1},currentIdRef:{current:null},currentContextRef:{current:null}});function gc(t){const{children:e,delay:r,timeoutMs:o=0}=t,n=u.useRef(r),c=u.useRef(r),s=u.useRef(null),l=u.useRef(null),m=u.useRef(-1);return k.jsx(Wo.Provider,{value:u.useMemo(()=>({hasProvider:!0,delayRef:n,initialDelayRef:c,currentIdRef:s,timeoutMs:o,currentContextRef:l,timeoutIdRef:m}),[o]),children:e})}function hc(t,e){e===void 0&&(e={});const{open:r,onOpenChange:o,floatingId:n}=t,{enabled:c=!0}=e,s=u.useContext(Wo),{currentIdRef:l,delayRef:m,timeoutMs:a,initialDelayRef:f,currentContextRef:b,hasProvider:v,timeoutIdRef:h}=s,[y,g]=u.useState(!1);return pe(()=>{function I(){var H;g(!1),(H=b.current)==null||H.setIsInstantPhase(!1),l.current=null,b.current=null,m.current=f.current}if(c&&l.current&&!r&&l.current===n){if(g(!1),a)return h.current=window.setTimeout(I,a),()=>{clearTimeout(h.current)};I()}},[c,r,n,l,m,a,f,b,h]),pe(()=>{if(!c||!r)return;const I=b.current,H=l.current;b.current={onOpenChange:o,setIsInstantPhase:g},l.current=n,m.current={open:0,close:Gt(f.current,"close")},H!==null&&H!==n?(Ge(h),g(!0),I==null||I.setIsInstantPhase(!0),I==null||I.onOpenChange(!1)):(g(!1),I==null||I.setIsInstantPhase(!1))},[c,r,n,o,l,m,a,f,b,h]),pe(()=>()=>{b.current=null},[b]),u.useMemo(()=>({hasProvider:v,delayRef:m,isInstantPhase:y}),[v,m,y])}let _r=0;function Rt(t,e){e===void 0&&(e={});const{preventScroll:r=!1,cancelPrevious:o=!0,sync:n=!1}=e;o&&cancelAnimationFrame(_r);const c=()=>t==null?void 0:t.focus({preventScroll:r});n?c():_r=requestAnimationFrame(c)}function Fn(t,e){if(!t||!e)return!1;const r=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(r&&no(r)){let o=e;for(;o;){if(t===o)return!0;o=o.parentNode||o.host}}return!1}function vc(t){return"composedPath"in t?t.composedPath()[0]:t.target}function bc(t){return(t==null?void 0:t.ownerDocument)||document}let kt=new WeakMap,ln=new WeakSet,un={},_n=0;const yc=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,Bo=t=>t&&(t.host||Bo(t.parentNode)),xc=(t,e)=>e.map(r=>{if(t.contains(r))return r;const o=Bo(r);return t.contains(o)?o:null}).filter(r=>r!=null);function wc(t,e,r,o){const n="data-floating-ui-inert",c=o?"inert":r?"aria-hidden":null,s=xc(e,t),l=new Set,m=new Set(s),a=[];un[n]||(un[n]=new WeakMap);const f=un[n];s.forEach(b),v(e),l.clear();function b(h){!h||l.has(h)||(l.add(h),h.parentNode&&b(h.parentNode))}function v(h){!h||m.has(h)||[].forEach.call(h.children,y=>{if(io(y)!=="script")if(l.has(y))v(y);else{const g=c?y.getAttribute(c):null,I=g!==null&&g!=="false",H=kt.get(y)||0,C=c?H+1:H,P=(f.get(y)||0)+1;kt.set(y,C),f.set(y,P),a.push(y),C===1&&I&&ln.add(y),P===1&&y.setAttribute(n,""),!I&&c&&y.setAttribute(c,c==="inert"?"":"true")}})}return _n++,()=>{a.forEach(h=>{const y=kt.get(h)||0,g=c?y-1:y,I=(f.get(h)||0)-1;kt.set(h,g),f.set(h,I),g||(!ln.has(h)&&c&&h.removeAttribute(c),ln.delete(h)),I||h.removeAttribute(n)}),_n--,_n||(kt=new WeakMap,kt=new WeakMap,ln=new WeakSet,un={})}}function jr(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);const o=bc(t[0]).body;return wc(t.concat(Array.from(o.querySelectorAll("[aria-live]"))),o,e,r)}const Rn={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},yn=u.forwardRef(function(e,r){const[o,n]=u.useState();pe(()=>{bo()&&n("button")},[]);const c={ref:r,tabIndex:0,role:o,"aria-hidden":o?void 0:!0,[Ct("focus-guard")]:"",style:Rn};return k.jsx("span",{...e,...c})}),Ko=u.createContext(null),Hr=Ct("portal");function $o(t){t===void 0&&(t={});const{id:e,root:r}=t,o=Ht(),n=Uo(),[c,s]=u.useState(null),l=u.useRef(null);return pe(()=>()=>{c==null||c.remove(),queueMicrotask(()=>{l.current=null})},[c]),pe(()=>{if(!o||l.current)return;const m=e?document.getElementById(e):null;if(!m)return;const a=document.createElement("div");a.id=o,a.setAttribute(Hr,""),m.appendChild(a),l.current=a,s(a)},[e,o]),pe(()=>{if(r===null||!o||l.current)return;let m=r||(n==null?void 0:n.portalNode);m&&!Ye(m)&&(m=m.current),m=m||document.body;let a=null;e&&(a=document.createElement("div"),a.id=e,m.appendChild(a));const f=document.createElement("div");f.id=o,f.setAttribute(Hr,""),m=a||m,m.appendChild(f),l.current=f,s(f)},[e,r,o,n]),c}function Rc(t){const{children:e,id:r,root:o,preserveTabOrder:n=!0}=t,c=$o({id:r,root:o}),[s,l]=u.useState(null),m=u.useRef(null),a=u.useRef(null),f=u.useRef(null),b=u.useRef(null),v=s==null?void 0:s.modal,h=s==null?void 0:s.open,y=!!s&&!s.modal&&s.open&&n&&!!(o||c);return u.useEffect(()=>{if(!c||!n||v)return;function g(I){c&&Yt(I)&&(I.type==="focusin"?Or:Qi)(c)}return c.addEventListener("focusin",g,!0),c.addEventListener("focusout",g,!0),()=>{c.removeEventListener("focusin",g,!0),c.removeEventListener("focusout",g,!0)}},[c,n,v]),u.useEffect(()=>{c&&(h||Or(c))},[h,c]),k.jsxs(Ko.Provider,{value:u.useMemo(()=>({preserveTabOrder:n,beforeOutsideRef:m,afterOutsideRef:a,beforeInsideRef:f,afterInsideRef:b,portalNode:c,setFocusManagerState:l}),[n,c]),children:[y&&c&&k.jsx(yn,{"data-type":"outside",ref:m,onFocus:g=>{if(Yt(g,c)){var I;(I=f.current)==null||I.focus()}else{const H=s?s.domReference:null,C=Ao(H);C==null||C.focus()}}}),y&&c&&k.jsx("span",{"aria-owns":c.id,style:Rn}),c&&qt.createPortal(e,c),y&&c&&k.jsx(yn,{"data-type":"outside",ref:a,onFocus:g=>{if(Yt(g,c)){var I;(I=b.current)==null||I.focus()}else{const H=s?s.domReference:null,C=To(H);C==null||C.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1,g.nativeEvent,"focus-out"))}}})]})}const Uo=()=>u.useContext(Ko);function Vr(t){return u.useMemo(()=>e=>{t.forEach(r=>{r&&(r.current=e)})},t)}const Ec=20;let Et=[];function Ic(t){Et=Et.filter(e=>e.isConnected),t&&io(t)!=="body"&&(Et.push(t),Et.length>Ec&&(Et=Et.slice(-20)))}function zr(){return Et.slice().reverse().find(t=>t.isConnected)}function Cc(t){const e=Jt();return vo(t,e)?t:wn(t,e)[0]||t}function Wr(t,e){var r;if(!e.current.includes("floating")&&!((r=t.getAttribute("role"))!=null&&r.includes("dialog")))return;const o=Jt(),c=zi(t,o).filter(l=>{const m=l.getAttribute("data-tabindex")||"";return vo(l,o)||l.hasAttribute("data-tabindex")&&!m.startsWith("-")}),s=t.getAttribute("tabindex");e.current.includes("floating")||c.length===0?s!=="0"&&t.setAttribute("tabindex","0"):(s!=="-1"||t.hasAttribute("data-tabindex")&&t.getAttribute("data-tabindex")!=="-1")&&(t.setAttribute("tabindex","-1"),t.setAttribute("data-tabindex","-1"))}const Sc=u.forwardRef(function(e,r){return k.jsx("button",{...e,type:"button",ref:r,tabIndex:-1,style:Rn})});function Tc(t){const{context:e,children:r,disabled:o=!1,order:n=["content"],guards:c=!0,initialFocus:s=0,returnFocus:l=!0,restoreFocus:m=!1,modal:a=!0,visuallyHiddenDismiss:f=!1,closeOnFocusOut:b=!0,outsideElementsInert:v=!1,getInsideElements:h=()=>[]}=t,{open:y,onOpenChange:g,events:I,dataRef:H,elements:{domReference:C,floating:P}}=e,j=Oe(()=>{var N;return(N=H.current.floatingContext)==null?void 0:N.nodeId}),oe=Oe(h),$=typeof s=="number"&&s<0,F=Un(C)&&$,B=yc(),U=B?c:!0,K=!U||B&&v,se=He(n),ee=He(s),Z=He(l),R=Tt(),E=Uo(),J=u.useRef(null),z=u.useRef(null),T=u.useRef(!1),O=u.useRef(!1),Y=u.useRef(-1),me=E!=null,D=bn(P),X=Oe(function(N){return N===void 0&&(N=D),N?wn(N,Jt()):[]}),he=Oe(N=>{const V=X(N);return se.current.map(G=>C&&G==="reference"?C:D&&G==="floating"?D:V).filter(Boolean).flat()});u.useEffect(()=>{if(o||!a)return;function N(G){if(G.key==="Tab"){je(D,st($e(D)))&&X().length===0&&!F&&Ke(G);const ce=he(),ae=ft(G);se.current[0]==="reference"&&ae===C&&(Ke(G),G.shiftKey?Rt(ce[ce.length-1]):Rt(ce[1])),se.current[1]==="floating"&&ae===D&&G.shiftKey&&(Ke(G),Rt(ce[0]))}}const V=$e(D);return V.addEventListener("keydown",N),()=>{V.removeEventListener("keydown",N)}},[o,C,D,a,se,F,X,he]),u.useEffect(()=>{if(o||!P)return;function N(V){const G=ft(V),ae=X().indexOf(G);ae!==-1&&(Y.current=ae)}return P.addEventListener("focusin",N),()=>{P.removeEventListener("focusin",N)}},[o,P,X]),u.useEffect(()=>{if(o||!b)return;function N(){O.current=!0,setTimeout(()=>{O.current=!1})}function V(G){const ce=G.relatedTarget,ae=G.currentTarget;queueMicrotask(()=>{const ge=j(),fe=!(je(C,ce)||je(P,ce)||je(ce,P)||je(E==null?void 0:E.portalNode,ce)||ce!=null&&ce.hasAttribute(Ct("focus-guard"))||R&&(Lt(R.nodesRef.current,ge).find(we=>{var ve,re;return je((ve=we.context)==null?void 0:ve.elements.floating,ce)||je((re=we.context)==null?void 0:re.elements.domReference,ce)})||Pr(R.nodesRef.current,ge).find(we=>{var ve,re,Le;return[(ve=we.context)==null?void 0:ve.elements.floating,bn((re=we.context)==null?void 0:re.elements.floating)].includes(ce)||((Le=we.context)==null?void 0:Le.elements.domReference)===ce})));if(ae===C&&D&&Wr(D,se),m&&fe&&st($e(D))===$e(D).body){Qe(D)&&D.focus();const we=Y.current,ve=X(),re=ve[we]||ve[ve.length-1]||D;Qe(re)&&re.focus()}(F||!a)&&ce&&fe&&!O.current&&ce!==zr()&&(T.current=!0,g(!1,G,"focus-out"))})}if(P&&Qe(C))return C.addEventListener("focusout",V),C.addEventListener("pointerdown",N),P.addEventListener("focusout",V),()=>{C.removeEventListener("focusout",V),C.removeEventListener("pointerdown",N),P.removeEventListener("focusout",V)}},[o,C,P,D,a,R,E,g,b,m,X,F,j,se]);const Pe=u.useRef(null),Ie=u.useRef(null),Ce=Vr([Pe,E==null?void 0:E.beforeInsideRef]),ue=Vr([Ie,E==null?void 0:E.afterInsideRef]);u.useEffect(()=>{var N,V;if(o||!P)return;const G=Array.from((E==null||(N=E.portalNode)==null?void 0:N.querySelectorAll("["+Ct("portal")+"]"))||[]),ce=R?Pr(R.nodesRef.current,j()):[],ae=R&&!a?ce.map(ve=>{var re;return(re=ve.context)==null?void 0:re.elements.floating}):[],ge=(V=ce.find(ve=>{var re;return Un(((re=ve.context)==null?void 0:re.elements.domReference)||null)}))==null||(V=V.context)==null?void 0:V.elements.domReference,fe=[P,ge,...G,...ae,...oe(),J.current,z.current,Pe.current,Ie.current,E==null?void 0:E.beforeOutsideRef.current,E==null?void 0:E.afterOutsideRef.current,se.current.includes("reference")||F?C:null].filter(ve=>ve!=null),we=a||F?jr(fe,!K,K):jr(fe);return()=>{we()}},[o,C,P,a,se,E,F,U,K,R,j,oe]),pe(()=>{if(o||!Qe(D))return;const N=$e(D),V=st(N);queueMicrotask(()=>{const G=he(D),ce=ee.current,ae=(typeof ce=="number"?G[ce]:ce.current)||D,ge=je(D,V);!$&&!ge&&y&&Rt(ae,{preventScroll:ae===D})})},[o,y,D,$,he,ee]),pe(()=>{if(o||!D)return;let N=!1;const V=$e(D),G=st(V);Ic(G);function ce(fe){let{reason:we,event:ve,nested:re}=fe;if(["hover","safe-polygon"].includes(we)&&ve.type==="mouseleave"&&(T.current=!0),we==="outside-press")if(re)T.current=!1,N=!0;else if(xo(ve)||wo(ve))T.current=!1;else{let Le=!1;document.createElement("div").focus({get preventScroll(){return Le=!0,!1}}),Le?(T.current=!1,N=!0):T.current=!0}}I.on("openchange",ce);const ae=V.createElement("span");ae.setAttribute("tabindex","-1"),ae.setAttribute("aria-hidden","true"),Object.assign(ae.style,Rn),me&&C&&C.insertAdjacentElement("afterend",ae);function ge(){if(typeof Z.current=="boolean"){const fe=C||zr();return fe&&fe.isConnected?fe:ae}return Z.current.current||ae}return()=>{I.off("openchange",ce);const fe=st(V),we=je(P,fe)||R&&Lt(R.nodesRef.current,j()).some(re=>{var Le;return je((Le=re.context)==null?void 0:Le.elements.floating,fe)}),ve=ge();queueMicrotask(()=>{const re=Cc(ve);Z.current&&!T.current&&Qe(re)&&(!(re!==fe&&fe!==V.body)||we)&&re.focus({preventScroll:N}),ae.remove()})}},[o,P,D,Z,H,I,R,me,C,j]),u.useEffect(()=>{queueMicrotask(()=>{T.current=!1})},[o]),pe(()=>{if(!o&&E)return E.setFocusManagerState({modal:a,closeOnFocusOut:b,open:y,onOpenChange:g,domReference:C}),()=>{E.setFocusManagerState(null)}},[o,E,a,y,g,b,C]),pe(()=>{o||D&&Wr(D,se)},[o,D,se]);function Re(N){return o||!f||!a?null:k.jsx(Sc,{ref:N==="start"?J:z,onClick:V=>g(!1,V.nativeEvent),children:typeof f=="string"?f:"Dismiss"})}const ke=!o&&U&&(a?!F:!0)&&(me||a);return k.jsxs(k.Fragment,{children:[ke&&k.jsx(yn,{"data-type":"inside",ref:Ce,onFocus:N=>{if(a){const G=he();Rt(n[0]==="reference"?G[0]:G[G.length-1])}else if(E!=null&&E.preserveTabOrder&&E.portalNode)if(T.current=!1,Yt(N,E.portalNode)){const G=To(C);G==null||G.focus()}else{var V;(V=E.beforeOutsideRef.current)==null||V.focus()}}}),!F&&Re("start"),r,Re("end"),ke&&k.jsx(yn,{"data-type":"inside",ref:ue,onFocus:N=>{if(a)Rt(he()[0]);else if(E!=null&&E.preserveTabOrder&&E.portalNode)if(b&&(T.current=!0),Yt(N,E.portalNode)){const G=Ao(C);G==null||G.focus()}else{var V;(V=E.afterOutsideRef.current)==null||V.focus()}}})]})}let an=0;function Ac(){const t=/iP(hone|ad|od)|iOS/.test(Zn()),e=document.body.style,o=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",n=window.innerWidth-document.documentElement.clientWidth,c=e.left?parseFloat(e.left):window.scrollX,s=e.top?parseFloat(e.top):window.scrollY;if(e.overflow="hidden",n&&(e[o]=n+"px"),t){var l,m;const a=((l=window.visualViewport)==null?void 0:l.offsetLeft)||0,f=((m=window.visualViewport)==null?void 0:m.offsetTop)||0;Object.assign(e,{position:"fixed",top:-(s-Math.floor(f))+"px",left:-(c-Math.floor(a))+"px",right:"0"})}return()=>{Object.assign(e,{overflow:"",[o]:""}),t&&(Object.assign(e,{position:"",top:"",left:"",right:""}),window.scrollTo(c,s))}}let Br=()=>{};const Nc=u.forwardRef(function(e,r){const{lockScroll:o=!1,...n}=e;return pe(()=>{if(o)return an++,an===1&&(Br=Ac()),()=>{an--,an===0&&Br()}},[o]),k.jsx("div",{ref:r,...n,style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...n.style}})});function Kr(t){return Qe(t.target)&&t.target.tagName==="BUTTON"}function Pc(t){return Qe(t.target)&&t.target.tagName==="A"}function $r(t){return Qn(t)}function Oc(t,e){e===void 0&&(e={});const{open:r,onOpenChange:o,dataRef:n,elements:{domReference:c}}=t,{enabled:s=!0,event:l="click",toggle:m=!0,ignoreMouse:a=!1,keyboardHandlers:f=!0,stickIfOpen:b=!0}=e,v=u.useRef(),h=u.useRef(!1),y=u.useMemo(()=>({onPointerDown(g){v.current=g.pointerType},onMouseDown(g){const I=v.current;g.button===0&&l!=="click"&&(jt(I,!0)&&a||(r&&m&&(!(n.current.openEvent&&b)||n.current.openEvent.type==="mousedown")?o(!1,g.nativeEvent,"click"):(g.preventDefault(),o(!0,g.nativeEvent,"click"))))},onClick(g){const I=v.current;if(l==="mousedown"&&v.current){v.current=void 0;return}jt(I,!0)&&a||(r&&m&&(!(n.current.openEvent&&b)||n.current.openEvent.type==="click")?o(!1,g.nativeEvent,"click"):o(!0,g.nativeEvent,"click"))},onKeyDown(g){v.current=void 0,!(g.defaultPrevented||!f||Kr(g))&&(g.key===" "&&!$r(c)&&(g.preventDefault(),h.current=!0),!Pc(g)&&g.key==="Enter"&&o(!(r&&m),g.nativeEvent,"click"))},onKeyUp(g){g.defaultPrevented||!f||Kr(g)||$r(c)||g.key===" "&&h.current&&(h.current=!1,o(!(r&&m),g.nativeEvent,"click"))}}),[n,c,l,a,f,o,r,b,m]);return u.useMemo(()=>s?{reference:y}:{},[s,y])}function Mc(t,e){let r=null,o=null,n=!1;return{contextElement:t||void 0,getBoundingClientRect(){var c;const s=(t==null?void 0:t.getBoundingClientRect())||{width:0,height:0,x:0,y:0},l=e.axis==="x"||e.axis==="both",m=e.axis==="y"||e.axis==="both",a=["mouseenter","mousemove"].includes(((c=e.dataRef.current.openEvent)==null?void 0:c.type)||"")&&e.pointerType!=="touch";let f=s.width,b=s.height,v=s.x,h=s.y;return r==null&&e.x&&l&&(r=s.x-e.x),o==null&&e.y&&m&&(o=s.y-e.y),v-=r||0,h-=o||0,f=0,b=0,!n||a?(f=e.axis==="y"?s.width:0,b=e.axis==="x"?s.height:0,v=l&&e.x!=null?e.x:v,h=m&&e.y!=null?e.y:h):n&&!a&&(b=e.axis==="x"?s.height:b,f=e.axis==="y"?s.width:f),n=!0,{width:f,height:b,x:v,y:h,top:h,right:v+f,bottom:h+b,left:v}}}}function Ur(t){return t!=null&&t.clientX!=null}function kc(t,e){e===void 0&&(e={});const{open:r,dataRef:o,elements:{floating:n,domReference:c},refs:s}=t,{enabled:l=!0,axis:m="both",x:a=null,y:f=null}=e,b=u.useRef(!1),v=u.useRef(null),[h,y]=u.useState(),[g,I]=u.useState([]),H=Oe(($,F)=>{b.current||o.current.openEvent&&!Ur(o.current.openEvent)||s.setPositionReference(Mc(c,{x:$,y:F,axis:m,dataRef:o,pointerType:h}))}),C=Oe($=>{a!=null||f!=null||(r?v.current||I([]):H($.clientX,$.clientY))}),P=jt(h)?n:r,j=u.useCallback(()=>{if(!P||!l||a!=null||f!=null)return;const $=so(n);function F(B){const U=ft(B);je(n,U)?($.removeEventListener("mousemove",F),v.current=null):H(B.clientX,B.clientY)}if(!o.current.openEvent||Ur(o.current.openEvent)){$.addEventListener("mousemove",F);const B=()=>{$.removeEventListener("mousemove",F),v.current=null};return v.current=B,B}s.setPositionReference(c)},[P,l,a,f,n,o,s,c,H]);u.useEffect(()=>j(),[j,g]),u.useEffect(()=>{l&&!n&&(b.current=!1)},[l,n]),u.useEffect(()=>{!l&&r&&(b.current=!0)},[l,r]),pe(()=>{l&&(a!=null||f!=null)&&(b.current=!1,H(a,f))},[l,a,f,H]);const oe=u.useMemo(()=>{function $(F){let{pointerType:B}=F;y(B)}return{onPointerDown:$,onPointerEnter:$,onMouseMove:C,onMouseEnter:C}},[C]);return u.useMemo(()=>l?{reference:oe}:{},[l,oe])}const Dc={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Lc={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Yr=t=>{var e,r;return{escapeKey:typeof t=="boolean"?t:(e=t==null?void 0:t.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(r=t==null?void 0:t.outsidePress)!=null?r:!0}};function Fc(t,e){e===void 0&&(e={});const{open:r,onOpenChange:o,elements:n,dataRef:c}=t,{enabled:s=!0,escapeKey:l=!0,outsidePress:m=!0,outsidePressEvent:a="pointerdown",referencePress:f=!1,referencePressEvent:b="pointerdown",ancestorScroll:v=!1,bubbles:h,capture:y}=e,g=Tt(),I=Oe(typeof m=="function"?m:()=>!1),H=typeof m=="function"?I:m,C=u.useRef(!1),P=u.useRef(!1),{escapeKey:j,outsidePress:oe}=Yr(h),{escapeKey:$,outsidePress:F}=Yr(y),B=u.useRef(!1),U=Oe(E=>{var J;if(!r||!s||!l||E.key!=="Escape"||B.current)return;const z=(J=c.current.floatingContext)==null?void 0:J.nodeId,T=g?Lt(g.nodesRef.current,z):[];if(!j&&(E.stopPropagation(),T.length>0)){let O=!0;if(T.forEach(Y=>{var me;if((me=Y.context)!=null&&me.open&&!Y.context.dataRef.current.__escapeKeyBubbles){O=!1;return}}),!O)return}o(!1,qi(E)?E.nativeEvent:E,"escape-key")}),K=Oe(E=>{var J;const z=()=>{var T;U(E),(T=ft(E))==null||T.removeEventListener("keydown",z)};(J=ft(E))==null||J.addEventListener("keydown",z)}),se=Oe(E=>{var J;const z=C.current;C.current=!1;const T=P.current;if(P.current=!1,a==="click"&&T||z||typeof H=="function"&&!H(E))return;const O=ft(E),Y="["+Ct("inert")+"]",me=$e(n.floating).querySelectorAll(Y);let D=Ye(O)?O:null;for(;D&&!Nn(D);){const Ie=Ks(D);if(Nn(Ie)||!Ye(Ie))break;D=Ie}if(me.length&&Ye(O)&&!Ui(O)&&!je(O,n.floating)&&Array.from(me).every(Ie=>!je(D,Ie)))return;if(Qe(O)&&R){const Ie=Nn(O),Ce=ro(O),ue=/auto|scroll/,Re=Ie||ue.test(Ce.overflowX),ke=Ie||ue.test(Ce.overflowY),N=Re&&O.clientWidth>0&&O.scrollWidth>O.clientWidth,V=ke&&O.clientHeight>0&&O.scrollHeight>O.clientHeight,G=Ce.direction==="rtl",ce=V&&(G?E.offsetX<=O.offsetWidth-O.clientWidth:E.offsetX>O.clientWidth),ae=N&&E.offsetY>O.clientHeight;if(ce||ae)return}const X=(J=c.current.floatingContext)==null?void 0:J.nodeId,he=g&&Lt(g.nodesRef.current,X).some(Ie=>{var Ce;return kn(E,(Ce=Ie.context)==null?void 0:Ce.elements.floating)});if(kn(E,n.floating)||kn(E,n.domReference)||he)return;const Pe=g?Lt(g.nodesRef.current,X):[];if(Pe.length>0){let Ie=!0;if(Pe.forEach(Ce=>{var ue;if((ue=Ce.context)!=null&&ue.open&&!Ce.context.dataRef.current.__outsidePressBubbles){Ie=!1;return}}),!Ie)return}o(!1,E,"outside-press")}),ee=Oe(E=>{var J;const z=()=>{var T;se(E),(T=ft(E))==null||T.removeEventListener(a,z)};(J=ft(E))==null||J.addEventListener(a,z)});u.useEffect(()=>{if(!r||!s)return;c.current.__escapeKeyBubbles=j,c.current.__outsidePressBubbles=oe;let E=-1;function J(me){o(!1,me,"ancestor-scroll")}function z(){window.clearTimeout(E),B.current=!0}function T(){E=window.setTimeout(()=>{B.current=!1},Bs()?5:0)}const O=$e(n.floating);l&&(O.addEventListener("keydown",$?K:U,$),O.addEventListener("compositionstart",z),O.addEventListener("compositionend",T)),H&&O.addEventListener(a,F?ee:se,F);let Y=[];return v&&(Ye(n.domReference)&&(Y=mn(n.domReference)),Ye(n.floating)&&(Y=Y.concat(mn(n.floating))),!Ye(n.reference)&&n.reference&&n.reference.contextElement&&(Y=Y.concat(mn(n.reference.contextElement)))),Y=Y.filter(me=>{var D;return me!==((D=O.defaultView)==null?void 0:D.visualViewport)}),Y.forEach(me=>{me.addEventListener("scroll",J,{passive:!0})}),()=>{l&&(O.removeEventListener("keydown",$?K:U,$),O.removeEventListener("compositionstart",z),O.removeEventListener("compositionend",T)),H&&O.removeEventListener(a,F?ee:se,F),Y.forEach(me=>{me.removeEventListener("scroll",J)}),window.clearTimeout(E)}},[c,n,l,H,a,r,o,v,s,j,oe,U,$,K,se,F,ee]),u.useEffect(()=>{C.current=!1},[H,a]);const Z=u.useMemo(()=>({onKeyDown:U,...f&&{[Dc[b]]:E=>{o(!1,E.nativeEvent,"reference-press")},...b!=="click"&&{onClick(E){o(!1,E.nativeEvent,"reference-press")}}}}),[U,o,f,b]),R=u.useMemo(()=>({onKeyDown:U,onMouseDown(){P.current=!0},onMouseUp(){P.current=!0},[Lc[a]]:()=>{C.current=!0}}),[U,a]);return u.useMemo(()=>s?{reference:Z,floating:R}:{},[s,Z,R])}function Yo(t){const{open:e=!1,onOpenChange:r,elements:o}=t,n=Ht(),c=u.useRef({}),[s]=u.useState(()=>_o()),l=St()!=null,[m,a]=u.useState(o.reference),f=Oe((h,y,g)=>{c.current.openEvent=h?y:void 0,s.emit("openchange",{open:h,event:y,reason:g,nested:l}),r==null||r(h,y,g)}),b=u.useMemo(()=>({setPositionReference:a}),[]),v=u.useMemo(()=>({reference:m||o.reference||null,floating:o.floating||null,domReference:o.reference}),[m,o.reference,o.floating]);return u.useMemo(()=>({dataRef:c,open:e,onOpenChange:f,elements:v,events:s,floatingId:n,refs:b}),[e,f,v,s,n,b])}function _c(t){t===void 0&&(t={});const{nodeId:e}=t,r=Yo({...t,elements:{reference:null,floating:null,...t.elements}}),o=t.rootContext||r,n=o.elements,[c,s]=u.useState(null),[l,m]=u.useState(null),f=(n==null?void 0:n.domReference)||c,b=u.useRef(null),v=Tt();pe(()=>{f&&(b.current=f)},[f]);const h=Ws({...t,elements:{...n,...l&&{reference:l}}}),y=u.useCallback(P=>{const j=Ye(P)?{getBoundingClientRect:()=>P.getBoundingClientRect(),getClientRects:()=>P.getClientRects(),contextElement:P}:P;m(j),h.refs.setReference(j)},[h.refs]),g=u.useCallback(P=>{(Ye(P)||P===null)&&(b.current=P,s(P)),(Ye(h.refs.reference.current)||h.refs.reference.current===null||P!==null&&!Ye(P))&&h.refs.setReference(P)},[h.refs]),I=u.useMemo(()=>({...h.refs,setReference:g,setPositionReference:y,domReference:b}),[h.refs,g,y]),H=u.useMemo(()=>({...h.elements,domReference:f}),[h.elements,f]),C=u.useMemo(()=>({...h,...o,refs:I,elements:H,nodeId:e}),[h,I,H,e,o]);return pe(()=>{o.dataRef.current.floatingContext=C;const P=v==null?void 0:v.nodesRef.current.find(j=>j.id===e);P&&(P.context=C)}),u.useMemo(()=>({...h,context:C,refs:I,elements:H}),[h,I,H,C])}function jn(){return Wi()&&bo()}function jc(t,e){e===void 0&&(e={});const{open:r,onOpenChange:o,events:n,dataRef:c,elements:s}=t,{enabled:l=!0,visibleOnly:m=!0}=e,a=u.useRef(!1),f=u.useRef(-1),b=u.useRef(!0);u.useEffect(()=>{if(!l)return;const h=so(s.domReference);function y(){!r&&Qe(s.domReference)&&s.domReference===st($e(s.domReference))&&(a.current=!0)}function g(){b.current=!0}function I(){b.current=!1}return h.addEventListener("blur",y),jn()&&(h.addEventListener("keydown",g,!0),h.addEventListener("pointerdown",I,!0)),()=>{h.removeEventListener("blur",y),jn()&&(h.removeEventListener("keydown",g,!0),h.removeEventListener("pointerdown",I,!0))}},[s.domReference,r,l]),u.useEffect(()=>{if(!l)return;function h(y){let{reason:g}=y;(g==="reference-press"||g==="escape-key")&&(a.current=!0)}return n.on("openchange",h),()=>{n.off("openchange",h)}},[n,l]),u.useEffect(()=>()=>{Ge(f)},[]);const v=u.useMemo(()=>({onMouseLeave(){a.current=!1},onFocus(h){if(a.current)return;const y=ft(h.nativeEvent);if(m&&Ye(y)){if(jn()&&!h.relatedTarget){if(!b.current&&!Qn(y))return}else if(!Yi(y))return}o(!0,h.nativeEvent,"focus")},onBlur(h){a.current=!1;const y=h.relatedTarget,g=h.nativeEvent,I=Ye(y)&&y.hasAttribute(Ct("focus-guard"))&&y.getAttribute("data-type")==="outside";f.current=window.setTimeout(()=>{var H;const C=st(s.domReference?s.domReference.ownerDocument:document);!y&&C===s.domReference||je((H=c.current.floatingContext)==null?void 0:H.refs.floating.current,C)||je(s.domReference,C)||I||o(!1,g,"focus")})}}),[c,s.domReference,o,m]);return u.useMemo(()=>l?{reference:v}:{},[l,v])}function Hn(t,e,r){const o=new Map,n=r==="item";let c=t;if(n&&t){const{[Mr]:s,[kr]:l,...m}=t;c=m}return{...r==="floating"&&{tabIndex:-1,[tc]:""},...c,...e.map(s=>{const l=s?s[r]:null;return typeof l=="function"?t?l(t):null:l}).concat(t).reduce((s,l)=>(l&&Object.entries(l).forEach(m=>{let[a,f]=m;if(!(n&&[Mr,kr].includes(a)))if(a.indexOf("on")===0){if(o.has(a)||o.set(a,[]),typeof f=="function"){var b;(b=o.get(a))==null||b.push(f),s[a]=function(){for(var v,h=arguments.length,y=new Array(h),g=0;g<h;g++)y[g]=arguments[g];return(v=o.get(a))==null?void 0:v.map(I=>I(...y)).find(I=>I!==void 0)}}}else s[a]=f}),s),{})}}function Hc(t){t===void 0&&(t=[]);const e=t.map(l=>l==null?void 0:l.reference),r=t.map(l=>l==null?void 0:l.floating),o=t.map(l=>l==null?void 0:l.item),n=u.useCallback(l=>Hn(l,t,"reference"),e),c=u.useCallback(l=>Hn(l,t,"floating"),r),s=u.useCallback(l=>Hn(l,t,"item"),o);return u.useMemo(()=>({getReferenceProps:n,getFloatingProps:c,getItemProps:s}),[n,c,s])}const Vc="Escape";function En(t,e,r){switch(t){case"vertical":return e;case"horizontal":return r;default:return e||r}}function fn(t,e){return En(e,t===Xt||t===gt,t===ht||t===vt)}function Vn(t,e,r){return En(e,t===gt,r?t===ht:t===vt)||t==="Enter"||t===" "||t===""}function Gr(t,e,r){return En(e,r?t===ht:t===vt,t===gt)}function qr(t,e,r,o){const n=r?t===vt:t===ht,c=t===Xt;return e==="both"||e==="horizontal"&&o&&o>1?t===Vc:En(e,n,c)}function zc(t,e){const{open:r,onOpenChange:o,elements:n,floatingId:c}=t,{listRef:s,activeIndex:l,onNavigate:m=()=>{},enabled:a=!0,selectedIndex:f=null,allowEscape:b=!1,loop:v=!1,nested:h=!1,rtl:y=!1,virtual:g=!1,focusItemOnOpen:I="auto",focusItemOnHover:H=!0,openOnArrowKeyDown:C=!0,disabledIndices:P=void 0,orientation:j="vertical",parentOrientation:oe,cols:$=1,scrollItemIntoView:F=!0,virtualItemRef:B,itemSizes:U,dense:K=!1}=e,se=bn(n.floating),ee=He(se),Z=St(),R=Tt();pe(()=>{t.dataRef.current.orientation=j},[t,j]);const E=Oe(()=>{m(T.current===-1?null:T.current)}),J=Un(n.domReference),z=u.useRef(I),T=u.useRef(f??-1),O=u.useRef(null),Y=u.useRef(!0),me=u.useRef(E),D=u.useRef(!!n.floating),X=u.useRef(r),he=u.useRef(!1),Pe=u.useRef(!1),Ie=He(P),Ce=He(r),ue=He(F),Re=He(f),[ke,N]=u.useState(),[V,G]=u.useState(),ce=Oe(()=>{function te(Te){if(g){var Me;(Me=Te.id)!=null&&Me.endsWith("-fui-option")&&(Te.id=c+"-"+Math.random().toString(16).slice(2,10)),N(Te.id),R==null||R.events.emit("virtualfocus",Te),B&&(B.current=Te)}else Rt(Te,{sync:he.current,preventScroll:!0})}const be=s.current[T.current],ne=Pe.current;be&&te(be),(he.current?Te=>Te():requestAnimationFrame)(()=>{const Te=s.current[T.current]||be;if(!Te)return;be||te(Te);const Me=ue.current;Me&&ge&&(ne||!Y.current)&&(Te.scrollIntoView==null||Te.scrollIntoView(typeof Me=="boolean"?{block:"nearest",inline:"nearest"}:Me))})});pe(()=>{a&&(r&&n.floating?z.current&&f!=null&&(Pe.current=!0,T.current=f,E()):D.current&&(T.current=-1,me.current()))},[a,r,n.floating,f,E]),pe(()=>{if(a&&r&&n.floating)if(l==null){if(he.current=!1,Re.current!=null)return;if(D.current&&(T.current=-1,ce()),(!X.current||!D.current)&&z.current&&(O.current!=null||z.current===!0&&O.current==null)){let te=0;const be=()=>{s.current[0]==null?(te<2&&(te?requestAnimationFrame:queueMicrotask)(be),te++):(T.current=O.current==null||Vn(O.current,j,y)||h?pn(s,Ie.current):Yn(s,Ie.current),O.current=null,E())};be()}}else Ft(s,l)||(T.current=l,ce(),Pe.current=!1)},[a,r,n.floating,l,Re,h,s,j,y,E,ce,Ie]),pe(()=>{var te;if(!a||n.floating||!R||g||!D.current)return;const be=R.nodesRef.current,ne=(te=be.find(Me=>Me.id===Z))==null||(te=te.context)==null?void 0:te.elements.floating,Se=st($e(n.floating)),Te=be.some(Me=>Me.context&&je(Me.context.elements.floating,Se));ne&&!Te&&Y.current&&ne.focus({preventScroll:!0})},[a,n.floating,R,Z,g]),pe(()=>{if(!a||!R||!g||Z)return;function te(be){G(be.id),B&&(B.current=be)}return R.events.on("virtualfocus",te),()=>{R.events.off("virtualfocus",te)}},[a,R,g,Z,B]),pe(()=>{me.current=E,X.current=r,D.current=!!n.floating}),pe(()=>{r||(O.current=null)},[r]);const ae=l!=null,ge=u.useMemo(()=>{function te(ne){if(!r)return;const Se=s.current.indexOf(ne);Se!==-1&&T.current!==Se&&(T.current=Se,E())}return{onFocus(ne){let{currentTarget:Se}=ne;he.current=!0,te(Se)},onClick:ne=>{let{currentTarget:Se}=ne;return Se.focus({preventScroll:!0})},...H&&{onMouseMove(ne){let{currentTarget:Se}=ne;he.current=!0,Pe.current=!1,te(Se)},onPointerLeave(ne){let{pointerType:Se}=ne;if(!(!Y.current||Se==="touch")&&(he.current=!0,T.current=-1,E(),!g)){var Te;(Te=ee.current)==null||Te.focus({preventScroll:!0})}}}}},[r,ee,H,s,E,g]),fe=u.useCallback(()=>{var te;return oe??(R==null||(te=R.nodesRef.current.find(be=>be.id===Z))==null||(te=te.context)==null||(te=te.dataRef)==null?void 0:te.current.orientation)},[Z,R,oe]),we=Oe(te=>{if(Y.current=!1,he.current=!0,te.which===229||!Ce.current&&te.currentTarget===ee.current)return;if(h&&qr(te.key,j,y,$)){fn(te.key,fe())||Ke(te),o(!1,te.nativeEvent,"list-navigation"),Qe(n.domReference)&&(g?R==null||R.events.emit("virtualfocus",n.domReference):n.domReference.focus());return}const be=T.current,ne=pn(s,P),Se=Yn(s,P);if(J||(te.key==="Home"&&(Ke(te),T.current=ne,E()),te.key==="End"&&(Ke(te),T.current=Se,E())),$>1){const Te=U||Array.from({length:s.current.length},()=>({width:1,height:1})),Me=Eo(Te,$,K),et=Me.findIndex(Ve=>Ve!=null&&!It(s,Ve,P)),Nt=Me.reduce((Ve,it,Pt)=>it!=null&&!It(s,it,P)?Pt:Ve,-1),bt=Me[Ro({current:Me.map(Ve=>Ve!=null?s.current[Ve]:null)},{event:te,orientation:j,loop:v,rtl:y,cols:$,disabledIndices:Co([...P||s.current.map((Ve,it)=>It(s,it)?it:void 0),void 0],Me),minIndex:et,maxIndex:Nt,prevIndex:Io(T.current>Se?ne:T.current,Te,Me,$,te.key===gt?"bl":te.key===(y?ht:vt)?"tr":"tl"),stopEvent:!0})];if(bt!=null&&(T.current=bt,E()),j==="both")return}if(fn(te.key,j)){if(Ke(te),r&&!g&&st(te.currentTarget.ownerDocument)===te.currentTarget){T.current=Vn(te.key,j,y)?ne:Se,E();return}Vn(te.key,j,y)?v?T.current=be>=Se?b&&be!==s.current.length?-1:ne:Be(s,{startingIndex:be,disabledIndices:P}):T.current=Math.min(Se,Be(s,{startingIndex:be,disabledIndices:P})):v?T.current=be<=ne?b&&be!==-1?s.current.length:Se:Be(s,{startingIndex:be,decrement:!0,disabledIndices:P}):T.current=Math.max(ne,Be(s,{startingIndex:be,decrement:!0,disabledIndices:P})),Ft(s,T.current)&&(T.current=-1),E()}}),ve=u.useMemo(()=>g&&r&&ae&&{"aria-activedescendant":V||ke},[g,r,ae,V,ke]),re=u.useMemo(()=>({"aria-orientation":j==="both"?void 0:j,...J?{}:ve,onKeyDown:we,onPointerMove(){Y.current=!0}}),[ve,we,j,J]),Le=u.useMemo(()=>{function te(ne){I==="auto"&&xo(ne.nativeEvent)&&(z.current=!0)}function be(ne){z.current=I,I==="auto"&&wo(ne.nativeEvent)&&(z.current=!0)}return{...ve,onKeyDown(ne){Y.current=!1;const Se=ne.key.startsWith("Arrow"),Te=["Home","End"].includes(ne.key),Me=Se||Te,et=Gr(ne.key,j,y),Nt=qr(ne.key,j,y,$),bt=Gr(ne.key,fe(),y),Ve=fn(ne.key,j),it=(h?bt:Ve)||ne.key==="Enter"||ne.key.trim()==="";if(g&&r){const Ot=R==null?void 0:R.nodesRef.current.find(ct=>ct.parentId==null),tt=R&&Ot?Gi(R.nodesRef.current,Ot.id):null;if(Me&&tt&&B){const ct=new KeyboardEvent("keydown",{key:ne.key,bubbles:!0});if(et||Nt){var Pt,Vt;const nt=((Pt=tt.context)==null?void 0:Pt.elements.domReference)===ne.currentTarget,Qt=Nt&&!nt?(Vt=tt.context)==null?void 0:Vt.elements.domReference:et?s.current.find(Wt=>(Wt==null?void 0:Wt.id)===ke):null;Qt&&(Ke(ne),Qt.dispatchEvent(ct),G(void 0))}if((Ve||Te)&&tt.context&&tt.context.open&&tt.parentId&&ne.currentTarget!==tt.context.elements.domReference){var zt;Ke(ne),(zt=tt.context.elements.domReference)==null||zt.dispatchEvent(ct);return}}return we(ne)}if(!(!r&&!C&&Se)){if(it){const Ot=fn(ne.key,fe());O.current=h&&Ot?null:ne.key}if(h){bt&&(Ke(ne),r?(T.current=pn(s,Ie.current),E()):o(!0,ne.nativeEvent,"list-navigation"));return}Ve&&(f!=null&&(T.current=f),Ke(ne),!r&&C?o(!0,ne.nativeEvent,"list-navigation"):we(ne),r&&E())}},onFocus(){r&&!g&&(T.current=-1,E())},onPointerDown:be,onPointerEnter:be,onMouseDown:te,onClick:te}},[ke,ve,$,we,Ie,I,s,h,E,o,r,C,j,fe,y,f,R,g,B]);return u.useMemo(()=>a?{reference:Le,floating:re,item:ge}:{},[a,Le,re,ge])}const Wc=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Bc(t,e){var r,o;e===void 0&&(e={});const{open:n,elements:c,floatingId:s}=t,{enabled:l=!0,role:m="dialog"}=e,a=Ht(),f=((r=c.domReference)==null?void 0:r.id)||a,b=u.useMemo(()=>{var C;return((C=bn(c.floating))==null?void 0:C.id)||s},[c.floating,s]),v=(o=Wc.get(m))!=null?o:m,y=St()!=null,g=u.useMemo(()=>v==="tooltip"||m==="label"?{["aria-"+(m==="label"?"labelledby":"describedby")]:n?b:void 0}:{"aria-expanded":n?"true":"false","aria-haspopup":v==="alertdialog"?"dialog":v,"aria-controls":n?b:void 0,...v==="listbox"&&{role:"combobox"},...v==="menu"&&{id:f},...v==="menu"&&y&&{role:"menuitem"},...m==="select"&&{"aria-autocomplete":"none"},...m==="combobox"&&{"aria-autocomplete":"list"}},[v,b,y,n,f,m]),I=u.useMemo(()=>{const C={id:b,...v&&{role:v}};return v==="tooltip"||m==="label"?C:{...C,...v==="menu"&&{"aria-labelledby":f}}},[v,b,f,m]),H=u.useCallback(C=>{let{active:P,selected:j}=C;const oe={role:"option",...P&&{id:b+"-fui-option"}};switch(m){case"select":return{...oe,"aria-selected":P&&j};case"combobox":return{...oe,"aria-selected":j}}return{}},[b,m]);return u.useMemo(()=>l?{reference:g,floating:I,item:H}:{},[l,g,I,H])}const Xr=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,r)=>(r?"-":"")+e.toLowerCase());function Dt(t,e){return typeof t=="function"?t(e):t}function Kc(t,e){const[r,o]=u.useState(t);return t&&!r&&o(!0),u.useEffect(()=>{if(!t&&r){const n=setTimeout(()=>o(!1),e);return()=>clearTimeout(n)}},[t,r,e]),r}function Go(t,e){e===void 0&&(e={});const{open:r,elements:{floating:o}}=t,{duration:n=250}=e,s=(typeof n=="number"?n:n.close)||0,[l,m]=u.useState("unmounted"),a=Kc(r,s);return!a&&l==="close"&&m("unmounted"),pe(()=>{if(o){if(r){m("initial");const f=requestAnimationFrame(()=>{qt.flushSync(()=>{m("open")})});return()=>{cancelAnimationFrame(f)}}m("close")}},[r,o]),{isMounted:a,status:l}}function $c(t,e){e===void 0&&(e={});const{initial:r={opacity:0},open:o,close:n,common:c,duration:s=250}=e,l=t.placement,m=l.split("-")[0],a=u.useMemo(()=>({side:m,placement:l}),[m,l]),f=typeof s=="number",b=(f?s:s.open)||0,v=(f?s:s.close)||0,[h,y]=u.useState(()=>({...Dt(c,a),...Dt(r,a)})),{isMounted:g,status:I}=Go(t,{duration:s}),H=He(r),C=He(o),P=He(n),j=He(c);return pe(()=>{const oe=Dt(H.current,a),$=Dt(P.current,a),F=Dt(j.current,a),B=Dt(C.current,a)||Object.keys(oe).reduce((U,K)=>(U[K]="",U),{});if(I==="initial"&&y(U=>({transitionProperty:U.transitionProperty,...F,...oe})),I==="open"&&y({transitionProperty:Object.keys(B).map(Xr).join(","),transitionDuration:b+"ms",...F,...B}),I==="close"){const U=$||oe;y({transitionProperty:Object.keys(U).map(Xr).join(","),transitionDuration:v+"ms",...F,...U})}},[v,P,H,C,j,b,I,a]),{isMounted:g,styles:h}}function Uc(t,e){var r;const{open:o,dataRef:n}=t,{listRef:c,activeIndex:s,onMatch:l,onTypingChange:m,enabled:a=!0,findMatch:f=null,resetMs:b=750,ignoreKeys:v=[],selectedIndex:h=null}=e,y=u.useRef(-1),g=u.useRef(""),I=u.useRef((r=h??s)!=null?r:-1),H=u.useRef(null),C=Oe(l),P=Oe(m),j=He(f),oe=He(v);pe(()=>{o&&(Ge(y),H.current=null,g.current="")},[o]),pe(()=>{if(o&&g.current===""){var K;I.current=(K=h??s)!=null?K:-1}},[o,h,s]);const $=Oe(K=>{K?n.current.typing||(n.current.typing=K,P(K)):n.current.typing&&(n.current.typing=K,P(K))}),F=Oe(K=>{function se(J,z,T){const O=j.current?j.current(z,T):z.find(Y=>(Y==null?void 0:Y.toLocaleLowerCase().indexOf(T.toLocaleLowerCase()))===0);return O?J.indexOf(O):-1}const ee=c.current;if(g.current.length>0&&g.current[0]!==" "&&(se(ee,ee,g.current)===-1?$(!1):K.key===" "&&Ke(K)),ee==null||oe.current.includes(K.key)||K.key.length!==1||K.ctrlKey||K.metaKey||K.altKey)return;o&&K.key!==" "&&(Ke(K),$(!0)),ee.every(J=>{var z,T;return J?((z=J[0])==null?void 0:z.toLocaleLowerCase())!==((T=J[1])==null?void 0:T.toLocaleLowerCase()):!0})&&g.current===K.key&&(g.current="",I.current=H.current),g.current+=K.key,Ge(y),y.current=window.setTimeout(()=>{g.current="",I.current=H.current,$(!1)},b);const R=I.current,E=se(ee,[...ee.slice((R||0)+1),...ee.slice(0,(R||0)+1)],g.current);E!==-1?(C(E),H.current=E):K.key!==" "&&(g.current="",$(!1))}),B=u.useMemo(()=>({onKeyDown:F}),[F]),U=u.useMemo(()=>({onKeyDown:F,onKeyUp(K){K.key===" "&&$(!1)}}),[F,$]);return u.useMemo(()=>a?{reference:B,floating:U}:{},[a,B,U])}function Zr(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const Yc=t=>({name:"inner",options:t,async fn(e){const{listRef:r,overflowRef:o,onFallbackChange:n,offset:c=0,index:s=0,minItemsVisible:l=4,referenceOverflowThreshold:m=0,scrollRef:a,...f}=Hs(t,e),{rects:b,elements:{floating:v}}=e,h=r.current[s],y=(a==null?void 0:a.current)||v,g=v.clientTop||y.clientTop,I=v.clientTop!==0,H=y.clientTop!==0,C=v===y;if(!h)return{};const P={...e,...await oo(-h.offsetTop-v.clientTop-b.reference.height/2-h.offsetHeight/2-c).fn(e)},j=await dn(Zr(P,y.scrollHeight+g+v.clientTop),f),oe=await dn(P,{...f,elementContext:"reference"}),$=An(0,j.top),F=P.y+$,K=(y.scrollHeight>y.clientHeight?se=>se:Vs)(An(0,y.scrollHeight+(I&&C||H?g*2:0)-$-An(0,j.bottom)));if(y.style.maxHeight=K+"px",y.scrollTop=$,n){const se=y.offsetHeight<h.offsetHeight*zs(l,r.current.length)-1||oe.top>=-m||oe.bottom>=-m;qt.flushSync(()=>n(se))}return o&&(o.current=await dn(Zr({...P,y:F},y.offsetHeight+g+v.clientTop),f)),{y:F}}});function Gc(t,e){const{open:r,elements:o}=t,{enabled:n=!0,overflowRef:c,scrollRef:s,onChange:l}=e,m=Oe(l),a=u.useRef(!1),f=u.useRef(null),b=u.useRef(null);u.useEffect(()=>{if(!n)return;function h(g){if(g.ctrlKey||!y||c.current==null)return;const I=g.deltaY,H=c.current.top>=-.5,C=c.current.bottom>=-.5,P=y.scrollHeight-y.clientHeight,j=I<0?-1:1,oe=I<0?"max":"min";y.scrollHeight<=y.clientHeight||(!H&&I>0||!C&&I<0?(g.preventDefault(),qt.flushSync(()=>{m($=>$+Math[oe](I,P*j))})):/firefox/i.test(Jn())&&(y.scrollTop+=I))}const y=(s==null?void 0:s.current)||o.floating;if(r&&y)return y.addEventListener("wheel",h),requestAnimationFrame(()=>{f.current=y.scrollTop,c.current!=null&&(b.current={...c.current})}),()=>{f.current=null,b.current=null,y.removeEventListener("wheel",h)}},[n,r,o.floating,c,s,m]);const v=u.useMemo(()=>({onKeyDown(){a.current=!0},onWheel(){a.current=!1},onPointerMove(){a.current=!1},onScroll(){const h=(s==null?void 0:s.current)||o.floating;if(!(!c.current||!h||!a.current)){if(f.current!==null){const y=h.scrollTop-f.current;(c.current.bottom<-.5&&y<-1||c.current.top<-.5&&y>1)&&qt.flushSync(()=>m(g=>g+y))}requestAnimationFrame(()=>{f.current=h.scrollTop})}}}),[o.floating,m,c,s]);return u.useMemo(()=>n?{floating:v}:{},[n,v])}function qc(t,e,r){r===void 0&&(r=!0);let o=t.filter(c=>{var s;return c.parentId===e&&((s=c.context)==null?void 0:s.open)}),n=o;for(;n.length;)n=r?t.filter(c=>{var s;return(s=n)==null?void 0:s.some(l=>{var m;return c.parentId===l.id&&((m=c.context)==null?void 0:m.open)})}):t,o=o.concat(n);return o}function Jr(t,e){const[r,o]=t;let n=!1;const c=e.length;for(let s=0,l=c-1;s<c;l=s++){const[m,a]=e[s]||[0,0],[f,b]=e[l]||[0,0];a>=o!=b>=o&&r<=(f-m)*(o-a)/(b-a)+m&&(n=!n)}return n}function Xc(t,e){return t[0]>=e.x&&t[0]<=e.x+e.width&&t[1]>=e.y&&t[1]<=e.y+e.height}function Zc(t){t===void 0&&(t={});const{buffer:e=.5,blockPointerEvents:r=!1,requireIntent:o=!0}=t;let n,c=!1,s=null,l=null,m=performance.now();function a(b,v){const h=performance.now(),y=h-m;if(s===null||l===null||y===0)return s=b,l=v,m=h,null;const g=b-s,I=v-l,C=Math.sqrt(g*g+I*I)/y;return s=b,l=v,m=h,C}const f=b=>{let{x:v,y:h,placement:y,elements:g,onClose:I,nodeId:H,tree:C}=b;return function(j){function oe(){clearTimeout(n),I()}if(clearTimeout(n),!g.domReference||!g.floating||y==null||v==null||h==null)return;const{clientX:$,clientY:F}=j,B=[$,F],U=vc(j),K=j.type==="mouseleave",se=Fn(g.floating,U),ee=Fn(g.domReference,U),Z=g.domReference.getBoundingClientRect(),R=g.floating.getBoundingClientRect(),E=y.split("-")[0],J=v>R.right-R.width/2,z=h>R.bottom-R.height/2,T=Xc(B,Z),O=R.width>Z.width,Y=R.height>Z.height,me=(O?Z:R).left,D=(O?Z:R).right,X=(Y?Z:R).top,he=(Y?Z:R).bottom;if(se&&(c=!0,!K))return;if(ee&&(c=!1),ee&&!K){c=!0;return}if(K&&Ye(j.relatedTarget)&&Fn(g.floating,j.relatedTarget)||C&&qc(C.nodesRef.current,H).some(Ce=>{let{context:ue}=Ce;return ue==null?void 0:ue.open}))return;if(E==="top"&&h>=Z.bottom-1||E==="bottom"&&h<=Z.top+1||E==="left"&&v>=Z.right-1||E==="right"&&v<=Z.left+1)return oe();let Pe=[];switch(E){case"top":Pe=[[me,Z.top+1],[me,R.bottom-1],[D,R.bottom-1],[D,Z.top+1]];break;case"bottom":Pe=[[me,R.top+1],[me,Z.bottom-1],[D,Z.bottom-1],[D,R.top+1]];break;case"left":Pe=[[R.right-1,he],[R.right-1,X],[Z.left+1,X],[Z.left+1,he]];break;case"right":Pe=[[Z.right-1,he],[Z.right-1,X],[R.left+1,X],[R.left+1,he]];break}function Ie(Ce){let[ue,Re]=Ce;switch(E){case"top":{const ke=[O?ue+e/2:J?ue+e*4:ue-e*4,Re+e+1],N=[O?ue-e/2:J?ue+e*4:ue-e*4,Re+e+1],V=[[R.left,J||O?R.bottom-e:R.top],[R.right,J?O?R.bottom-e:R.top:R.bottom-e]];return[ke,N,...V]}case"bottom":{const ke=[O?ue+e/2:J?ue+e*4:ue-e*4,Re-e],N=[O?ue-e/2:J?ue+e*4:ue-e*4,Re-e],V=[[R.left,J||O?R.top+e:R.bottom],[R.right,J?O?R.top+e:R.bottom:R.top+e]];return[ke,N,...V]}case"left":{const ke=[ue+e+1,Y?Re+e/2:z?Re+e*4:Re-e*4],N=[ue+e+1,Y?Re-e/2:z?Re+e*4:Re-e*4];return[...[[z||Y?R.right-e:R.left,R.top],[z?Y?R.right-e:R.left:R.right-e,R.bottom]],ke,N]}case"right":{const ke=[ue-e,Y?Re+e/2:z?Re+e*4:Re-e*4],N=[ue-e,Y?Re-e/2:z?Re+e*4:Re-e*4],V=[[z||Y?R.left+e:R.right,R.top],[z?Y?R.left+e:R.right:R.left+e,R.bottom]];return[ke,N,...V]}}}if(!Jr([$,F],Pe)){if(c&&!T)return oe();if(!K&&o){const Ce=a(j.clientX,j.clientY);if(Ce!==null&&Ce<.1)return oe()}Jr([$,F],Ie([v,h]))?!c&&o&&(n=window.setTimeout(oe,40)):oe()}}};return f.__options={blockPointerEvents:r},f}const Jc=Object.freeze(Object.defineProperty({__proto__:null,Composite:nc,CompositeItem:rc,FloatingArrow:lc,FloatingDelayGroup:mc,FloatingFocusManager:Tc,FloatingList:Oo,FloatingNode:ac,FloatingOverlay:Nc,FloatingPortal:Rc,FloatingTree:fc,NextFloatingDelayGroup:gc,arrow:$s,autoPlacement:Us,autoUpdate:Ys,computePosition:Gs,detectOverflow:dn,flip:qs,getOverflowAncestors:mn,hide:Xs,inline:Zs,inner:Yc,limitShift:Js,offset:oo,platform:Qs,safePolygon:Zc,shift:ei,size:ti,useClick:Oc,useClientPoint:kc,useDelayGroup:pc,useDelayGroupContext:zo,useDismiss:Fc,useFloating:_c,useFloatingNodeId:uc,useFloatingParentNodeId:St,useFloatingPortalNode:$o,useFloatingRootContext:Yo,useFloatingTree:Tt,useFocus:jc,useHover:dc,useId:Ht,useInnerOffset:Gc,useInteractions:Hc,useListItem:Mo,useListNavigation:zc,useMergeRefs:No,useNextDelayGroup:hc,useRole:Bc,useTransitionStatus:Go,useTransitionStyles:$c,useTypeahead:Uc},Symbol.toStringTag,{value:"Module"})),Qc=ni(Jc);var Qr;function el(){if(Qr)return W;Qr=1;var t=ri(),e=Qc,r=oi();function o(i){if(i&&i.__esModule)return i;var d=Object.create(null);return i&&Object.keys(i).forEach(function(p){if(p!=="default"){var x=Object.getOwnPropertyDescriptor(i,p);Object.defineProperty(d,p,x.get?x:{enumerable:!0,get:function(){return i[p]}})}}),d.default=i,Object.freeze(d)}var n=o(t),c=o(r);function s(){const i=n.useRef(null),[d,p]=n.useState(!1),x=n.useCallback(M=>{i.current=M},[]),w=n.useCallback(M=>{p(M)},[]),A=n.useCallback(()=>{p(!0)},[]),_=n.useCallback(()=>{p(!1)},[]);return{anchorRef:i,onAnchorChange:x,hasAnchor:d,onHasAnchorChange:w,onAnchorAdd:A,onAnchorRemove:_}}var l="data-dice-collection-item",m="data-dice-dismissable-layer",a="data-dice-dismissable-layer-style",f="data-value",b="--dice-transform-origin",v="--dice-anchor-width",h="--dice-anchor-height",y="--dice-available-width",g="--dice-available-height",I=n.createContext(void 0);function H(i){const d=n.useContext(I);return i??d??"ltr"}var C=typeof window<"u"?n.useLayoutEffect:n.useEffect,P={top:"bottom",right:"left",bottom:"top",left:"right"},j={top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"};function oe(i){return typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i)}function $({open:i,onOpenChange:d,anchorRef:p,side:x="bottom",sideOffset:w=4,align:A="start",alignOffset:_=0,collisionBoundary:M,collisionPadding:L=0,arrowPadding:S=0,sticky:Q="partial",strategy:ie="absolute",avoidCollisions:ye=!1,disableArrow:q=!1,fitViewport:le=!1,forceMount:Ae=!1,hideWhenDetached:Fe=!1,trackAnchor:qe=!0}){var vr,br;const _e=H(),[xe,ze]=n.useState(null),We=n.useMemo(()=>_e!=="rtl"?A:A==="start"?"end":A==="end"?"start":"center",[A,_e]),Ne=n.useMemo(()=>`${x}-${We}`,[x,We]),Ee=n.useMemo(()=>[e.offset({mainAxis:w,alignmentAxis:_}),e.inline()],[w,_]),Je=n.useMemo(()=>ye?[e.flip({boundary:M,padding:L,fallbackStrategy:Q==="partial"?"bestFit":"initialPlacement"}),e.shift({boundary:M,padding:L,limiter:Q==="partial"?e.limitShift():void 0})]:[],[ye,M,L,Q]),lt=n.useMemo(()=>[e.size({padding:L,apply({elements:{floating:Ue},rects:{reference:Ze},availableWidth:yr,availableHeight:xr}){const Ds={[y]:`${yr}px`,[g]:`${xr}px`,[v]:`${Ze.width}px`,[h]:`${Ze.height}px`};for(const[Ls,Fs]of Object.entries(Ds))Ue.style.setProperty(Ls,Fs);le&&Object.assign(Ue.style,{maxHeight:`${xr}px`,maxWidth:`${yr}px`})}})],[L,le]),dt=n.useMemo(()=>!q&&xe?[e.arrow({element:xe,padding:S})]:[],[q,xe,S]),ut=n.useMemo(()=>[...Ee,...Je,...lt,...Fe?[e.hide()]:[],...dt],[Ee,Je,lt,Fe,dt]),rt=n.useMemo(()=>({ancestorScroll:qe,ancestorResize:!0,elementResize:qe&&typeof ResizeObserver<"u",layoutShift:qe&&typeof IntersectionObserver<"u"}),[qe]),{x:mt,y:Mt,refs:pt,strategy:Bt,context:Kt,placement:ot,middlewareData:De,isPositioned:Xe,update:yt,elements:xt}=e.useFloating({open:i,onOpenChange:d,placement:Ne,middleware:ut,whileElementsMounted:Ae?void 0:(...Ue)=>e.autoUpdate(...Ue,rt),strategy:ie});C(()=>{if(!i)return;const Ue=p&&"getBoundingClientRect"in p,Ze=Ue?p:p==null?void 0:p.current;Ze&&(Ue?pt.setPositionReference(Ze):pt.setReference(Ze),yt())},[i,p,pt,yt]),n.useEffect(()=>{if(Ae&&i&&xt.reference&&xt.floating)return e.autoUpdate(xt.reference,xt.floating,yt,rt)},[Ae,i,xt,yt,rt]);const[at="bottom",wt="start"]=ot.split("-"),nn=n.useMemo(()=>{const Ue=P[at];return`${wt==="end"?"start":wt==="start"?"end":"center"} ${Ue}`},[at,wt]),dr=n.useCallback((Ue={})=>({...Ue,"data-side":at,"data-align":wt}),[at,wt]),mr=n.useMemo(()=>{const Ue=oe(Mt)?Mt:0,Ze=oe(mt)?mt:0;return{position:Bt,top:Ue,left:Ze,[b]:nn}},[Bt,mt,Mt,nn]),pr=!!((vr=De.hide)!=null&&vr.referenceHidden),gr=q?!1:((br=De.arrow)==null?void 0:br.centerOffset)!==0,hr=n.useMemo(()=>{var Ue,Ze;return q?{}:{position:"absolute",top:(Ue=De.arrow)==null?void 0:Ue.y,left:(Ze=De.arrow)==null?void 0:Ze.x,[at]:0,transformOrigin:nn,transform:j[at]}},[De.arrow,at,nn,q]);return n.useMemo(()=>({refs:pt,floatingStyles:mr,placement:ot,isPositioned:Xe,middlewareData:De,elements:xt,update:yt,context:Kt,getFloatingProps:dr,arrowStyles:hr,onArrowChange:q?()=>{}:ze,side:at,align:wt,arrowDisplaced:gr,anchorHidden:pr}),[pt,mr,ot,Xe,De,xt,yt,Kt,dr,hr,at,wt,gr,pr,q])}function F(i){const d=n.useRef(i);return n.useEffect(()=>{d.current=i}),n.useMemo(()=>(...p)=>{var x;return(x=d.current)==null?void 0:x.call(d,...p)},[])}function B(i,d){const p=i.compareDocumentPosition(d);return p&Node.DOCUMENT_POSITION_FOLLOWING||p&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:p&Node.DOCUMENT_POSITION_PRECEDING||p&Node.DOCUMENT_POSITION_CONTAINS?1:0}function U({grouped:i=!1}={}){const d=n.useRef(null),p=n.useRef(new Map).current,x=i?n.useRef(new Map).current:null,w=n.useCallback(()=>{if(!d.current)return[];const M=Array.from(p.values());return M.length===0?[]:M.sort((L,S)=>!(L!=null&&L.ref.current)||!(S!=null&&S.ref.current)?0:B(L.ref.current,S.ref.current))},[p]),A=n.useCallback((_,M)=>{var L;return p.set(_.ref,_),i&&M&&x&&(x.has(M)||x.set(M,new Set),(L=x.get(M))==null||L.add(_.ref)),()=>{if(p.delete(_.ref),i&&M&&x){const S=x.get(M);S==null||S.delete(_.ref),(S==null?void 0:S.size)===0&&x.delete(M)}}},[p,x,i]);return{collectionRef:d,itemMap:p,groupMap:x,getItems:w,onItemRegister:A}}function K({prop:i,defaultProp:d,onChange:p=()=>{}}){const[x,w]=se({defaultProp:d,onChange:p}),A=i!==void 0,_=A?i:x,M=F(p),L=n.useCallback(S=>{if(A){const ie=typeof S=="function"?S(i):S;ie!==i&&M(ie)}else w(S)},[A,i,w,M]);return[_,L]}function se({defaultProp:i,onChange:d}){const p=n.useState(i),[x]=p,w=n.useRef(x),A=F(d);return n.useEffect(()=>{w.current!==x&&(A(x),w.current=x)},[x,A]),p}function ee(i){return(i==null?void 0:i.ownerDocument)??globalThis.document}function Z(i){const d=ee(i);return(d==null?void 0:d.defaultView)??globalThis.window}function R({document:i,onEscapeKeyDown:d,enabled:p}){const x=F(d);n.useEffect(()=>{if(!p)return;function w(A){A.key==="Escape"&&(x==null||x(A))}return i.addEventListener("keydown",w,{capture:!0}),()=>i.removeEventListener("keydown",w,{capture:!0})},[p,x,i])}function E(i){var _e;const{enabled:d,onDismiss:p,refs:x,onEscapeKeyDown:w,onPointerDownOutside:A,onFocusOutside:_,onInteractOutside:M,disableOutsidePointerEvents:L=!1,preventScrollDismiss:S=!1,delayMs:Q=0,layerAttr:ie=m,layerStyleAttr:ye=a}=i,q=ee((_e=x[0])==null?void 0:_e.current),le=n.useRef(!1),Ae=n.useRef(()=>{});R({document:q,onEscapeKeyDown:xe=>{w&&!xe.defaultPrevented&&(w(xe),xe.defaultPrevented||p(xe))},enabled:d&&!!p&&!!w});const Fe=F(xe=>{A==null||A(xe),M==null||M(xe),xe.defaultPrevented||p(xe)}),qe=F(xe=>{_==null||_(xe),M==null||M(xe),xe.defaultPrevented||p(xe)});return n.useEffect(()=>{if(!d)return;function xe(Ne){const Ee=Ne.target;if(!Ee||le.current||x.some(dt=>{var ut;return(ut=dt.current)==null?void 0:ut.contains(Ee)}))return;const lt={currentTarget:Ne.currentTarget,target:Ee,preventDefault:()=>Ne.preventDefault(),defaultPrevented:Ne.defaultPrevented,detail:Ne.detail};if(Ne.pointerType==="touch"&&S){if(!q)return;q.removeEventListener("click",Ae.current),Ae.current=()=>Fe(lt),q.addEventListener("click",Ae.current,{once:!0})}else Fe(lt)}function ze(Ne){const Ee=Ne.target;if(!Ee||x.some(dt=>{var ut;return(ut=dt.current)==null?void 0:ut.contains(Ee)}))return;const lt={currentTarget:Ne.currentTarget,target:Ee,preventDefault:()=>Ne.preventDefault(),defaultPrevented:Ne.defaultPrevented};qe(lt)}if(L){const Ne=x.map(Je=>Je.current).filter(Boolean);for(const Je of Ne)Je&&Je.setAttribute(ie,"");const Ee=q.createElement("style");Ee.setAttribute(ye,""),Ee.textContent=`[${ie}] ~ *:not([${ie}]) { pointer-events: none !important; }`,q.head.appendChild(Ee)}const We=window.setTimeout(()=>{q.addEventListener("pointerdown",xe),q.addEventListener("focusin",ze)},Q);return()=>{var Ne;if(window.clearTimeout(We),q.removeEventListener("pointerdown",xe),q.removeEventListener("focusin",ze),q.removeEventListener("click",Ae.current),L){for(const Ee of x)Ee.current&&Ee.current.removeAttribute(ie);(Ne=q.querySelector(`[${ye}]`))==null||Ne.remove()}}},[d,x,Fe,qe,L,S,Q,ie,ye,q]),{onPointerDownCapture:()=>{le.current=!0},onPointerUpCapture:()=>{window.setTimeout(()=>{le.current=!1},0)}}}function J(i){const d=n.useRef(i);return n.useLayoutEffect(()=>{d.current=i}),n.useCallback((p,...x)=>{const w=d.current;return w(p,...x)},[])}function z(i){const d=n.useRef(i);return n.useLayoutEffect(()=>{d.current=i}),n.useCallback((...p)=>{const x=d.current;return x(...p)},[])}var T=class{constructor(i){rn(this,"cache");rn(this,"maxSize");rn(this,"keyOrder");this.cache=new Map,this.maxSize=i,this.keyOrder=[]}get(i){const d=this.cache.get(i);if(d!==void 0){const p=this.keyOrder.indexOf(i);p>-1&&(this.keyOrder.splice(p,1),this.keyOrder.push(i))}return d}set(i,d){if(this.cache.has(i)){this.cache.set(i,d);const p=this.keyOrder.indexOf(i);p>-1&&this.keyOrder.splice(p,1)}else{if(this.keyOrder.length>=this.maxSize){const p=this.keyOrder.shift();p!==void 0&&this.cache.delete(p)}this.cache.set(i,d)}this.keyOrder.push(i)}clear(){this.cache.clear(),this.keyOrder.length=0}get size(){return this.cache.size}},O=new T(10),Y=new T(1e3),me=/[-_\s./\\|:;,]+/g,D=/[^\p{L}\p{N}\s]/gu;function X(i){if(!i||typeof i!="string")return"";const d=Y.get(i);if(d!==void 0)return d;let p;try{p=i.toLowerCase().normalize("NFC").replace(D," ").replace(me," ").trim().replace(/\s+/g,"")}catch{p=i.toLowerCase().normalize("NFC").replace(/[^a-z0-9\s]/g," ").trim().replace(/\s+/g,"")}return p===""&&i.length>0&&(p="\0"),Y.set(i,p),p}function he(i){const d=i?Object.entries(i).sort((M,L)=>M[0]<L[0]?-1:1).join():"";let p=O.get(d);p||(p=new Intl.Collator("en",{...i,sensitivity:"base"}),O.set(d,p));const x=n.useCallback((M,L)=>{if(L.length===0)return!0;if(i!=null&&i.gapMatch){const ie=X(M),ye=X(L);return ie.startsWith(ye)}const S=M.normalize("NFC"),Q=L.normalize("NFC");return p.compare(S.slice(0,Q.length),Q)===0},[p,i==null?void 0:i.gapMatch]),w=n.useCallback((M,L)=>{if(L.length===0)return!0;if(i!=null&&i.gapMatch){const ie=X(M),ye=X(L);return ie.endsWith(ye)}const S=M.normalize("NFC"),Q=L.normalize("NFC");return p.compare(S.slice(-Q.length),Q)===0},[p,i==null?void 0:i.gapMatch]),A=n.useCallback((M,L)=>{if(L.length===0)return!0;if(i!=null&&i.gapMatch){const q=X(M),le=X(L);return q.includes(le)}const S=M.normalize("NFC"),Q=L.normalize("NFC");let ie=0;const ye=Q.length;for(;ie+ye<=S.length;ie++){const q=S.slice(ie,ie+ye);if(p.compare(Q,q)===0)return!0}return!1},[p,i==null?void 0:i.gapMatch]),_=n.useCallback((M,L)=>{if(L.length===0)return!0;if(M.length===0)return!1;if(i!=null&&i.gapMatch){const q=X(M),le=X(L);let Ae=0,Fe=0;for(;Fe<q.length&&Ae<le.length;)q[Fe]===le[Ae]&&Ae++,Fe++;return Ae===le.length}const S=M.normalize("NFC"),Q=L.normalize("NFC");let ie=0,ye=0;for(;ye<S.length&&ie<Q.length;)p.compare(S[ye]??"",Q[ie]??"")===0&&ie++,ye++;return ie===Q.length},[p,i==null?void 0:i.gapMatch]);return n.useMemo(()=>({startsWith:x,endsWith:w,contains:A,fuzzy:_}),[x,w,A,_])}function Pe({itemMap:i,groupMap:d,onFilter:p,exactMatch:x,manualFiltering:w,onCallback:A}){const _=n.useRef({search:"",itemCount:0,items:new Map,groups:d?new Map:void 0}).current,M=he({sensitivity:"base",gapMatch:!0}),L=n.useMemo(()=>x?M.contains:M.fuzzy,[M.fuzzy,M.contains,x]),S=n.useCallback((q,le)=>le?q?le===""?1:q===le?2:q.startsWith(le)?1.5:p?+(p([q],le).length>0):Number(L(q,le)):0:1,[L,p]),Q=n.useCallback(()=>{if(!_.search||w){_.itemCount=i.size;return}_.items.clear(),d&&_.groups&&_.groups.clear();const q=_.search;let le=0,Ae=[];const Fe=250;function qe(){if(!Ae.length)return;const _e=new Map;for(const[ze,We]of Ae){const Ne=S(We.value,q);Ne>0&&(_e.set(We.value,Ne),le++)}const xe=Array.from(_e.entries()).sort(([,ze],[,We])=>We-ze);for(const[ze,We]of xe)_.items.set(ze,We);Ae=[]}for(const[_e,xe]of i)Ae.push([_e,xe]),Ae.length>=Fe&&qe();if(Ae.length>0&&qe(),_.itemCount=le,d&&_.groups&&d.size&&le>0){const _e=new Set(_.items.keys());for(const[xe,ze]of d)Array.from(ze).some(Ne=>{var Ee;return _e.has(((Ee=Ne.current)==null?void 0:Ee.id)??"")})&&_.groups.set(xe,new Set)}A==null||A(le)},[w,_,i,d,S,A]),ie=n.useCallback(q=>w||!_.search?!0:(_.items.get(q)??0)>0,[_,w]),ye=n.useCallback((q=!1)=>q||_.itemCount===0&&_.search.trim()!=="",[_]);return{filterStore:_,onItemsFilter:Q,getIsItemVisible:ie,getIsListEmpty:ye}}function Ie(i){const[d,p]=n.useState(null);return{isFormControl:d?i||!!d.closest("form"):!0,trigger:d,onTriggerChange:p}}function Ce({form:i,defaultValue:d,onReset:p}){const x=F(p);n.useEffect(()=>{if(!i)return;function w(){d!==void 0&&(x==null||x(d))}return i.addEventListener("reset",w),()=>i.removeEventListener("reset",w)},[i,d,x])}var ue=globalThis!=null&&globalThis.document?n.useLayoutEffect:()=>{},Re=n[" useId ".trim().toString()]||(()=>{}),ke=0;function N(i){const[d,p]=n.useState(typeof Re=="function"?Re():void 0);return ue(()=>{i||p(x=>x??String(ke++))},[i]),i||(d?`dice-${d}`:"")}function V({ref:i,attr:d=l}){const p=n.useCallback(()=>{const w=i.current;if(!w)return[];const A=Array.from(w.querySelectorAll(`[${d}]`));return A.length===0?[]:A.sort(B)},[i,d]),x=n.useCallback(()=>p().filter(A=>A.getAttribute("aria-disabled")!=="true"),[p]);return{getItems:p,getEnabledItems:x}}function G({defaultValue:i}){const[d,p]=n.useState(i??""),x=n.useCallback(w=>{p(((w==null?void 0:w.textContent)??"").trim())},[]);return{label:i??d,onLabelChange:x}}function ce({highlightedItem:i,onHighlightedItemChange:d,getItems:p,getIsItemSelected:x,loop:w=!1}){return{onHighlightMove:n.useCallback(_=>{const M=p();if(M.length===0)return;const L=M.findIndex(ye=>ye.ref.current===(i==null?void 0:i.ref.current));let S;const Q=M.length-1;switch(_){case"next":{S=L+1,S=S>Q?w?0:Q:S;break}case"prev":{S=L-1,S=S<0?w?Q:0:S;break}case"first":S=0;break;case"last":S=Q;break;case"selected":{S=M.findIndex(x),S=S===-1?0:S;break}}const ie=M[S];ie!=null&&ie.ref.current&&(ie.ref.current.scrollIntoView({block:"nearest"}),d(ie))},[p,x,i,d,w])}}function ae(){const[i,d]=n.useState(!1);return ue(()=>{d(!0)},[]),i}function ge(i){const d=n.useRef({value:i,previous:i});return n.useMemo(()=>(d.current.value!==i&&(d.current.previous=d.current.value,d.current.value=i),d.current.previous),[i])}function fe(i){return typeof i=="number"}function we(i){return fe(i)&&!Number.isNaN(i)&&i>0}function ve(i,d){return fe(i)&&!Number.isNaN(i)&&i<=d&&i>=0}function re(i,d){return i==null?"indeterminate":i===d?"complete":"loading"}function Le({value:i=null,max:d}){const p=n.useMemo(()=>we(d)?d:100,[d]),x=n.useMemo(()=>ve(i,p)?i:null,[i,p]),w=n.useMemo(()=>re(x,p),[x,p]),A=n.useMemo(()=>({role:"progressbar","aria-valuemin":0,"aria-valuemax":p,...fe(x)&&{"aria-valuenow":x},"data-state":w,"data-value":x??void 0,"data-max":p}),[p,x,w]);return{value:x,max:p,state:w,progressProps:A}}function te(){return typeof window<"u"&&/Firefox/.test(navigator.userAgent)}function be(){const i=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(i)&&/Mobile/.test(i)||/FxiOS/.test(i))}function ne(){return Ve(/^Mac/)}function Se(){return Ve(/^iPhone/)}function Te(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Me(){return Ve(/^iPad/)||ne()&&navigator.maxTouchPoints>1}function et(){return Se()||Me()}function Nt(i=globalThis.window){var d;return(((d=i.visualViewport)==null?void 0:d.scale)??1)!==1}function bt(){return typeof window<"u"&&window.navigator!=null?window.navigator.platform:void 0}function Ve(i){return typeof window<"u"&&window.navigator!=null?i.test(window.navigator.platform):void 0}var it=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Pt(i){return i instanceof HTMLInputElement&&!it.has(i.type)||i instanceof HTMLTextAreaElement||i instanceof HTMLElement&&i.isContentEditable}function Vt(i){if(!i)return!1;const d=window.getComputedStyle(i);return/(auto|scroll)/.test(d.overflow+d.overflowX+d.overflowY)&&(i.scrollHeight!==i.clientHeight||i.scrollWidth!==i.clientWidth)}function zt(i){const d=document.scrollingElement||document.documentElement;let p=i;for(;p&&p!==d;){for(;p&&!Vt(p);)p=p.parentElement;if(!p||p===d)break;const{top:x}=p.getBoundingClientRect(),{top:w}=i.getBoundingClientRect();w>x+i.clientHeight&&(p.scrollTop+=w-x),p=p.parentElement}}function Ot(){return typeof CSS<"u"&&typeof CSS.supports=="function"&&CSS.supports("height","1dvh")}function tt(i){if(typeof document>"u")return!1;const d=(i==null?void 0:i.ownerDocument)??document;return(d.defaultView??window).innerWidth-d.documentElement.clientWidth>0}var ct=0,nt={};function Qt({referenceElement:i,enabled:d=!1,allowPinchZoom:p=!1}={}){const x=n.useRef({top:0,left:0}),w=n.useRef(-1),A=n.useRef(null),_=n.useRef(null);C(()=>{var Ne;if(!d)return;const M=(i==null?void 0:i.ownerDocument)??globalThis.document,L=M.defaultView??globalThis.window,S=M.documentElement,Q=M.body,ie=p??((Ne=L.visualViewport)==null?void 0:Ne.scale)!==1;if(Te()&&!ie||(ct++,ct!==1))return;x.current={top:L.scrollY,left:L.scrollX};const ye=L.getComputedStyle(S),q=L.getComputedStyle(Q);nt={htmlOverflowY:S.style.overflowY,htmlOverflowX:S.style.overflowX,bodyPosition:Q.style.position,bodyWidth:Q.style.width,bodyHeight:Q.style.height,bodyOverflow:Q.style.overflow,bodyBoxSizing:Q.style.boxSizing};const le=Math.max(0,L.innerWidth-M.documentElement.clientWidth),Ae=Math.max(0,L.innerHeight-M.documentElement.clientHeight),Fe=Ot(),qe=tt(i);function _e(){var Mt;const Ee=(Mt=ye.scrollbarGutter)==null?void 0:Mt.includes("stable"),Je=S.scrollHeight>S.clientHeight,lt=S.scrollWidth>S.clientWidth,dt=ye.overflowY==="scroll"||q.overflowY==="scroll",ut=ye.overflowX==="scroll"||q.overflowX==="scroll",rt=Number.parseFloat(q.marginTop)+Number.parseFloat(q.marginBottom),mt=Number.parseFloat(q.marginLeft)+Number.parseFloat(q.marginRight);if(et()){let pt=function(ot){let Xe=ot.target;for(;Xe&&Xe!==S;){if(Vt(Xe)&&Xe instanceof HTMLElement){A.current=Xe,L.getComputedStyle(Xe).overscrollBehavior==="auto"&&(Xe.style.overscrollBehavior="contain");break}Xe=Xe.parentElement}(!Xe||Xe===S)&&(A.current=null)},Bt=function(ot){const De=A.current;if(!De||De===S||De===Q){ot.preventDefault();return}De.scrollHeight===De.clientHeight&&De.scrollWidth===De.clientWidth&&ot.preventDefault()},Kt=function(ot){const De=ot.target;Pt(De)&&(De.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{if(De.style.transform="",!!L.visualViewport){if(L.visualViewport.height<L.innerHeight){requestAnimationFrame(()=>zt(De));return}L.visualViewport.addEventListener("resize",()=>zt(De),{once:!0})}}))};Object.assign(Q.style,{position:"fixed",width:mt||le?`calc(100vw - ${mt+le}px)`:"100vw",height:rt||Ae?`calc(100vh - ${rt+Ae}px)`:"100vh",top:`-${x.current.top}px`,left:`-${x.current.left}px`,overflow:"hidden",boxSizing:"border-box"}),M.addEventListener("touchstart",pt,{passive:!1,capture:!0}),M.addEventListener("touchmove",Bt,{passive:!1,capture:!0}),M.addEventListener("focus",Kt,!0),_.current=()=>{M.removeEventListener("touchstart",pt,{capture:!0}),M.removeEventListener("touchmove",Bt,{capture:!0}),M.removeEventListener("focus",Kt,!0)}}else Object.assign(S.style,{overflowY:!Ee&&(Je||dt)?"scroll":"hidden",overflowX:!Ee&&(lt||ut)?"scroll":"hidden",paddingRight:le>0?`${le}px`:""}),Object.assign(Q.style,{position:"relative",width:mt||le?`calc(100vw - ${mt+le}px)`:"100vw",height:Fe?rt?`calc(100dvh - ${rt}px)`:"100dvh":rt?`calc(100vh - ${rt}px)`:"100vh",boxSizing:"border-box",overflow:"hidden"}),te()&&!qe&&(Q.style.marginRight=`${le}px`),Q.scrollTop=x.current.top,Q.scrollLeft=x.current.left,S.setAttribute("data-scroll-locked","")}function xe(){Object.assign(S.style,{overflowY:nt.htmlOverflowY,overflowX:nt.htmlOverflowX,paddingRight:""}),Object.assign(Q.style,{overflow:nt.bodyOverflow,position:nt.bodyPosition,width:nt.bodyWidth,height:nt.bodyHeight,boxSizing:nt.bodyBoxSizing,marginRight:"",top:"",left:""}),S.removeAttribute("data-scroll-locked"),L.scrollTo(x.current.left,x.current.top)}function ze(){cancelAnimationFrame(w.current),w.current=requestAnimationFrame(()=>{xe(),_e()})}function We(Ee){Ee.touches.length>1||Ee.preventDefault()}return _e(),L.addEventListener("resize",ze),et()&&M.addEventListener("touchmove",We,{passive:!1}),()=>{var Ee;ct--,ct===0&&(cancelAnimationFrame(w.current),xe(),L.removeEventListener("resize",ze),et()&&(M.removeEventListener("touchmove",We),(Ee=_.current)==null||Ee.call(_)))}},[d,i,p])}function Wt(i){const[d,p]=n.useState(void 0);return ue(()=>{if(i){p({width:i.offsetWidth,height:i.offsetHeight});const x=new ResizeObserver(w=>{if(!Array.isArray(w)||!w.length)return;const A=w[0];let _,M;if(A&&"borderBoxSize"in A){const L=A.borderBoxSize,S=Array.isArray(L)?L[0]:L;_=S.inlineSize,M=S.blockSize}else _=i.offsetWidth,M=i.offsetHeight;p({width:_,height:M})});return x.observe(i,{box:"border-box"}),()=>x.unobserve(i)}p(void 0)},[i]),d}function rr(i){const[d,p]=n.useState(i.initial),x=n.useCallback(w=>{p(A=>{var M;return((M=i.states[A])==null?void 0:M[w])??A})},[i.states]);return[d,x]}function or(i,d){return i.map((p,x)=>i[(d+x)%i.length])}function hs(i,d,p){if(!d)return;const w=d.length>1&&Array.from(d).every(S=>S===d[0])?d[0]??"":d,A=p?i.indexOf(p):-1;let _=or(i,Math.max(A,0));w.length===1&&(_=_.filter(S=>S!==p));const L=_.find(S=>S!=null&&S.textValue?S.textValue.toLowerCase().startsWith(w.toLowerCase()):!1);return L!==p?L:void 0}function vs({onSearchChange:i,enabled:d=!0,immediate:p=!1}){const x=F(i),w=n.useRef(""),A=n.useRef(0),_=n.useCallback(L=>{if(!d)return;const S=w.current+L;p&&x(S),function Q(ie){w.current=ie,window.clearTimeout(A.current),ie!==""&&(A.current=window.setTimeout(()=>{p||x(""),Q("")},1e3))}(S)},[x,d,p]),M=n.useCallback(()=>{w.current="",window.clearTimeout(A.current)},[]);return n.useEffect(()=>()=>window.clearTimeout(A.current),[]),{searchRef:w,onTypeaheadSearch:_,onResetTypeahead:M,getCurrentSearch:()=>w.current}}function bs(i,d,{checkForDefaultPrevented:p=!0}={}){return function(w){if(i==null||i(w),p===!1||!w.defaultPrevented)return d==null?void 0:d(w)}}function sr(i,d){if(typeof i=="function")return i(d);i!=null&&(i.current=d)}function en(...i){return d=>{let p=!1;const x=i.map(w=>{const A=sr(w,d);return!p&&typeof A=="function"&&(p=!0),A});if(p)return()=>{for(let w=0;w<x.length;w++){const A=x[w];typeof A=="function"?A():sr(i[w],null)}}}}function ir(...i){return n.useCallback(en(...i),i)}function ys(i){return Object.assign(n.forwardRef(i),{displayName:i.displayName??i.name})}var cr={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},xs={position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.4)",backdropFilter:"blur(2px)",zIndex:50},ws={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},Rs={outline:"none",boxShadow:"0 0 0 2px rgba(66, 153, 225, 0.6)",borderRadius:"0.25rem"},Es={overflow:"auto",scrollbarWidth:"none",msOverflowStyle:"none"},Is={position:"absolute",top:0,right:0,bottom:0,left:0},Cs={display:"flex",alignItems:"center",justifyContent:"center"},Ss={userSelect:"none",WebkitUserSelect:"none",msUserSelect:"none"};function Ts(i){var q;const{control:d,value:p,checked:x,bubbles:w=!0,type:A="hidden",onReset:_,style:M,...L}=i,S=A==="checkbox"||A==="radio"||A==="switch",Q=n.useRef(null),ie=ge(A==="hidden"?p:x),ye=Wt(d);return n.useEffect(()=>{const le=Q.current;if(!le)return;const Ae=window.HTMLInputElement.prototype,Fe=S?"checked":"value",qe=S?"click":"input",_e=S?x:JSON.stringify(p),ze=Object.getOwnPropertyDescriptor(Ae,Fe).set;if(ie!==_e&&ze){const We=new Event(qe,{bubbles:w});ze.call(le,_e),le.dispatchEvent(We)}},[ie,p,x,w,S]),Ce({form:((q=Q.current)==null?void 0:q.form)??null,defaultValue:S?x:p,onReset:le=>{_==null||_(le)}}),n.createElement("input",{type:A,...L,ref:Q,"aria-hidden":S,tabIndex:-1,defaultChecked:S?x:void 0,style:{...i.style,...ye,...cr}})}function As(i,d){const p=n.createContext(d);p.displayName=i;function x(A){const{children:_,...M}=A,L=n.useMemo(()=>M,Object.values(M));return n.createElement(p.Provider,{value:L},_)}x.displayName=`${i}Provider`;function w(A,_){const M=n.useContext(p);if(!M&&!_)throw new Error(`\`${A}\` must be used within \`${i}\``);if(M)return M;if(d!==void 0)return d}return[x,w]}function lr(i){var x,w;if(!n.isValidElement(i))return;let d=(x=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:x.get,p=d&&"isReactWarning"in d&&d.isReactWarning;return p?i.ref:(d=(w=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:w.get,p=d&&"isReactWarning"in d&&d.isReactWarning,p?i.props.ref:i.props.ref||i.ref)}var Ns=function(d){return n.isValidElement(d)&&d.type===Sn};function Ps(i,d){const p={...d};for(const x in d){const w=i[x],A=d[x];/^on[A-Z]/.test(x)?typeof w=="function"&&typeof A=="function"?p[x]=(..._)=>{A(..._),w(..._)}:typeof w=="function"&&(p[x]=w):x==="style"&&w&&A?p[x]={...w,...A}:x==="className"&&(p[x]=[w,A].filter(Boolean).join(" "))}return{...i,...p}}var In=n.forwardRef((i,d)=>{const{children:p,...x}=i;if(!n.isValidElement(p))return n.Children.count(p)>1?n.Children.only(null):null;const w=lr(p),A=Ps(x,p.props);return typeof p.type=="string"?n.cloneElement(p,{...A,ref:d?en(d,w):w}):n.cloneElement(p,{...A,ref:d?en(d,w):w})});In.displayName="SlotClone";var Cn=n.forwardRef((i,d)=>{const{children:p,...x}=i,w=n.Children.toArray(p),A=w.find(Ns);if(!A)return n.createElement(In,{...x,ref:d},p);if(!n.isValidElement(A))return null;const _=A.props.children,M=w.map(L=>L===A?n.Children.count(_)>1?n.Children.only(null):n.isValidElement(_)?_.props.children:null:L);return n.createElement(In,{...x,ref:d},n.isValidElement(_)?n.cloneElement(_,void 0,M):null)});Cn.displayName="Slot";var Sn=n.memo(function({children:d}){return n.createElement(n.Fragment,null,d)});Sn.displayName="Slottable";function Os(i){const d=n.forwardRef((p,x)=>{const{asChild:w,...A}=p;return w?n.createElement(Cn,{...A,ref:x}):n.createElement(i,{...A,ref:x})});return d.displayName=`Primitive.${String(i)}`,d}var Tn=new Map,ur=new Proxy({},{get:(i,d)=>{const p=d;return Tn.has(p)||Tn.set(p,Os(p)),Tn.get(p)}});function Ms(i,d){i&&c.flushSync(()=>i.dispatchEvent(d))}var ar=n.forwardRef((i,d)=>{var _;const{container:p,...x}=i,w=ae(),A=p??(w?(_=globalThis.document)==null?void 0:_.body:null);return A?c.createPortal(n.createElement(ur.div,{...x,ref:d}),A):null});ar.displayName="Portal";var fr=i=>{const{present:d,children:p}=i,x=ks(d),w=typeof p=="function"?p({present:x.isPresent}):n.Children.only(p),A=ir(x.ref,lr(w));return typeof p=="function"||x.isPresent?n.cloneElement(w,{ref:A}):null};fr.displayName="Presence";function ks(i){const[d,p]=n.useState(),x=n.useRef({}),w=n.useRef(i),A=n.useRef("none"),_=i?"mounted":"unmounted",[M,L]=rr({initial:_,states:{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}});return n.useEffect(()=>{const S=tn(x.current);A.current=M==="mounted"?S:"none"},[M]),ue(()=>{const S=x.current,Q=w.current;if(Q!==i){const ye=A.current,q=tn(S);i?L("MOUNT"):q==="none"||(S==null?void 0:S.display)==="none"?L("UNMOUNT"):L(Q&&ye!==q?"ANIMATION_OUT":"UNMOUNT"),w.current=i}},[i,L]),ue(()=>{if(d){let S=function(q){const Ae=tn(x.current).includes(q.animationName);if(q.target===d&&Ae&&(L("ANIMATION_END"),!w.current)){const Fe=d.style.animationFillMode;d.style.animationFillMode="forwards",ie=ye.setTimeout(()=>{d.style.animationFillMode==="forwards"&&(d.style.animationFillMode=Fe)})}},Q=function(q){q.target===d&&(A.current=tn(x.current))},ie;const ye=d.ownerDocument.defaultView??window;return d.addEventListener("animationstart",Q),d.addEventListener("animationcancel",S),d.addEventListener("animationend",S),()=>{ye.clearTimeout(ie),d.removeEventListener("animationstart",Q),d.removeEventListener("animationcancel",S),d.removeEventListener("animationend",S)}}L("ANIMATION_END")},[d,L]),{isPresent:["mounted","unmountSuspended"].includes(M),ref:n.useCallback(S=>{S&&(x.current=getComputedStyle(S)),p(S)},[])}}function tn(i){return(i==null?void 0:i.animationName)||"none"}return W.DATA_DISMISSABLE_LAYER_ATTR=m,W.DATA_DISMISSABLE_LAYER_STYLE_ATTR=a,W.DATA_ITEM_ATTR=l,W.DATA_VALUE_ATTR=f,W.Portal=ar,W.Presence=fr,W.Primitive=ur,W.Slot=Cn,W.Slottable=Sn,W.VAR_ANCHOR_HEIGHT=h,W.VAR_ANCHOR_WIDTH=v,W.VAR_AVAILABLE_HEIGHT=g,W.VAR_AVAILABLE_WIDTH=y,W.VAR_TRANSFORM_ORIGIN=b,W.VisuallyHiddenInput=Ts,W.center=Cs,W.compareNodePosition=B,W.composeEventHandlers=bs,W.composeRefs=en,W.createContext=As,W.dispatchDiscreteCustomEvent=Ms,W.findNextItem=hs,W.focusRing=Rs,W.forwardRef=ys,W.fullSize=Is,W.getOwnerDocument=ee,W.getOwnerWindow=Z,W.getPlatform=bt,W.getProgressState=re,W.isFirefox=te,W.isIOS=et,W.isIPad=Me,W.isIPhone=Se,W.isMac=ne,W.isMobileFirefox=be,W.isPinchZoomActive=Nt,W.isSafari=Te,W.noSelect=Ss,W.overlay=xs,W.scrollableHidden=Es,W.testPlatform=Ve,W.truncate=ws,W.useAnchor=s,W.useAnchorPositioner=$,W.useCallbackRef=F,W.useCollection=U,W.useComposedRefs=ir,W.useControllableState=K,W.useDirection=H,W.useDismiss=E,W.useEscapeKeydown=R,W.useEvent=z,W.useEventCallback=J,W.useFilter=he,W.useFilterStore=Pe,W.useFormControl=Ie,W.useFormReset=Ce,W.useId=N,W.useIsomorphicLayoutEffect=C,W.useItemCollection=V,W.useLabel=G,W.useLayoutEffect=ue,W.useListHighlighting=ce,W.useMounted=ae,W.usePrevious=ge,W.useProgress=Le,W.useScrollLock=Qt,W.useSize=Wt,W.useStateMachine=rr,W.useTypeahead=vs,W.visuallyHidden=cr,W.wrapArray=or,W}var de=el(),qo="TagsInputRoot",[tl,At]=de.createContext(qo),Xo=u.forwardRef((t,e)=>{const{value:r,defaultValue:o,onValueChange:n,onValidate:c,onInvalid:s,displayValue:l=N=>N.toString(),addOnPaste:m=!1,addOnTab:a=!1,disabled:f=!1,editable:b=!1,loop:v=!1,blurBehavior:h,delimiter:y=",",max:g=Number.POSITIVE_INFINITY,readOnly:I=!1,required:H=!1,name:C,children:P,dir:j,id:oe,...$}=t,[F=[],B]=de.useControllableState({prop:r,defaultProp:o,onChange:n}),[U,K]=u.useState(null),[se,ee]=u.useState(null),[Z,R]=u.useState(!1),E=u.useRef(null),J=u.useRef(null),z=de.useId(),T=de.useId(),O=de.useId(),Y=de.useDirection(j),{getEnabledItems:me}=de.useItemCollection({ref:E}),{isFormControl:D,onTriggerChange:X}=de.useFormControl(),he=de.useComposedRefs(e,E,N=>X(N)),Pe=u.useCallback((N,V)=>{if(f||I)return!1;if(m&&(V!=null&&V.viaPaste)){const fe=N.split(y).map(re=>re.trim()).filter(Boolean);if(F.length+fe.length>g&&g>0)return s==null||s(N),!1;let we=[];for(const re of fe)F.includes(re)&&(s==null||s(re));we=[...new Set(fe.filter(re=>!F.includes(re)))];const ve=we.filter(re=>!c||c(re));return ve.length===0?!1:(B([...F,...ve]),!0)}if(F.length>=g&&g>0)return s==null||s(N),!1;const G=N.trim();if(c&&!c(G))return R(!0),s==null||s(G),!1;if(F.some(fe=>fe===G))return R(!0),s==null||s(G),!0;const ae=G,ge=[...F,ae];return B(ge),K(null),ee(null),R(!1),!0},[F,g,m,y,B,s,c,f,I]),Ie=u.useCallback((N,V)=>{if(!(f||I)&&N!==-1){const G=V.trim();if(F.some((fe,we)=>we===N?!1:fe===G)){R(!0),s==null||s(G);return}if(c&&!c(G)){R(!0),s==null||s(G);return}const ae=l(G),ge=[...F];ge[N]=ae,B(ge),K(N),ee(null),R(!1),requestAnimationFrame(()=>{var fe;return(fe=J.current)==null?void 0:fe.focus()})}},[F,B,l,s,c,f,I]),Ce=u.useCallback(N=>{var V;if(!(f||I)&&N!==-1){const G=[...F];G.splice(N,1),B(G),K(null),ee(null),(V=J.current)==null||V.focus()}},[F,B,f,I]),ue=u.useCallback(()=>{var N;K(null),ee(null),(N=J.current)==null||N.focus()},[]),Re=u.useCallback(N=>{const V=N.target;if(!(V instanceof HTMLInputElement))return;const G=N.key==="ArrowLeft"&&Y==="ltr"||N.key==="ArrowRight"&&Y==="rtl",ce=N.key==="ArrowRight"&&Y==="ltr"||N.key==="ArrowLeft"&&Y==="rtl";if(V.value&&V.selectionStart!==0){K(null),ee(null);return}function ae(ge,fe){if(!E.current)return null;const re=me().map((te,be)=>be);if(re.length===0)return null;if(ge===null)return fe==="prev"?re[re.length-1]??null:re[0]??null;const Le=re.indexOf(ge);return fe==="next"?Le>=re.length-1?v?re[0]??null:null:re[Le+1]??null:Le<=0?v?re[re.length-1]??null:null:re[Le-1]??null}switch(N.key){case"Delete":case"Backspace":{if(V.selectionStart!==0||V.selectionEnd!==0)break;if(U!==null){const ge=ae(U,"prev");Ce(U),K(ge),N.preventDefault()}else if(N.key==="Backspace"&&F.length>0){const ge=ae(null,"prev");K(ge),N.preventDefault()}break}case"Enter":{if(U!==null&&b&&!f){ee(U),N.preventDefault();return}break}case"ArrowLeft":case"ArrowRight":{if(V.selectionStart===0&&G&&U===null&&F.length>0){const ge=ae(null,"prev");K(ge),N.preventDefault()}else if(U!==null){const ge=ae(U,G?"prev":"next");ge!==null?(K(ge),N.preventDefault()):ce&&(K(null),requestAnimationFrame(()=>V.setSelectionRange(0,0)))}break}case"Home":{if(U!==null){const ge=ae(null,"next");K(ge),N.preventDefault()}break}case"End":{if(U!==null){const ge=ae(null,"prev");K(ge),N.preventDefault()}break}case"Escape":{U!==null&&K(null),se!==null&&ee(null),requestAnimationFrame(()=>V.setSelectionRange(0,0));break}}},[Y,se,U,F,Ce,me,b,f,v]),ke=u.useCallback(N=>{var V;return((V=E.current)==null?void 0:V.contains(N))&&!N.hasAttribute(de.DATA_ITEM_ATTR)&&N.tagName!=="INPUT"},[]);return u.createElement(tl,{value:F,onValueChange:B,onItemAdd:Pe,onItemRemove:Ce,onItemUpdate:Ie,onInputKeydown:Re,highlightedIndex:U,setHighlightedIndex:K,editingIndex:se,setEditingIndex:ee,displayValue:l,onItemLeave:ue,inputRef:J,isInvalidInput:Z,addOnPaste:m,addOnTab:a,disabled:f,editable:b,loop:v,readOnly:I,blurBehavior:h,delimiter:y,max:g,dir:Y,id:z,inputId:T,labelId:O},u.createElement(de.Primitive.div,{id:z,"data-disabled":f?"":void 0,"data-invalid":Z?"":void 0,"data-readonly":I?"":void 0,dir:Y,...$,ref:he,onClick:de.composeEventHandlers($.onClick,N=>{var G;const V=N.target;V instanceof HTMLElement&&ke(V)&&document.activeElement!==J.current&&(N.currentTarget.focus(),(G=J.current)==null||G.focus())}),onMouseDown:de.composeEventHandlers($.onMouseDown,N=>{const V=N.target;V instanceof HTMLElement&&ke(V)&&N.preventDefault()}),onBlur:de.composeEventHandlers($.onBlur,N=>{var V;N.relatedTarget!==J.current&&!((V=E.current)!=null&&V.contains(N.relatedTarget))&&requestAnimationFrame(()=>K(null))})},typeof P=="function"?u.createElement(u.Fragment,null,P({value:F})):P,D&&C&&u.createElement(de.VisuallyHiddenInput,{type:"hidden",control:E.current,name:C,value:F,disabled:f,required:H})))});Xo.displayName=qo;var Zo=Xo,Jo="TagsInputLabel",Qo=u.forwardRef((t,e)=>{const r=At(Jo);return u.createElement(de.Primitive.label,{id:r.labelId,htmlFor:r.inputId,...t,ref:e})});Qo.displayName=Jo;var es=Qo,er="TagsInputItem",[nl,tr]=de.createContext(er),ts=u.forwardRef((t,e)=>{const{value:r,disabled:o,...n}=t,c=u.useRef("touch"),s=At(er),l=de.useId(),m=`${l}text`,a=s.value.indexOf(r),f=a===s.highlightedIndex,b=a===s.editingIndex,v=o||s.disabled,h=s.displayValue(r),y=u.useCallback(()=>{var g;s.setHighlightedIndex(a),(g=s.inputRef.current)==null||g.focus()},[s.setHighlightedIndex,s.inputRef,a]);return u.createElement(nl,{id:l,value:r,index:a,isHighlighted:f,isEditing:b,disabled:v,textId:m,displayValue:h},u.createElement(de.Primitive.div,{id:l,"aria-labelledby":m,"aria-current":f,"aria-disabled":v,[de.DATA_ITEM_ATTR]:"","data-state":f?"active":"inactive","data-highlighted":f?"":void 0,"data-editing":b?"":void 0,"data-editable":s.editable?"":void 0,"data-disabled":v?"":void 0,...n,ref:e,onClick:de.composeEventHandlers(n.onClick,g=>{g.stopPropagation(),!b&&c.current!=="mouse"&&y()}),onDoubleClick:de.composeEventHandlers(n.onDoubleClick,()=>{s.editable&&!v&&requestAnimationFrame(()=>s.setEditingIndex(a))}),onPointerUp:de.composeEventHandlers(n.onPointerUp,()=>{c.current==="mouse"&&y()}),onPointerDown:de.composeEventHandlers(n.onPointerDown,g=>c.current=g.pointerType),onPointerMove:de.composeEventHandlers(n.onPointerMove,g=>{c.current=g.pointerType,o?s.onItemLeave():c.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:de.composeEventHandlers(n.onPointerLeave,g=>{g.currentTarget===document.activeElement&&s.onItemLeave()})}))});ts.displayName=er;var ns=ts,rs="TagsInputInput",os=u.forwardRef((t,e)=>{const{autoFocus:r,...o}=t,n=At(rs),c=u.useCallback(l=>{n.addOnTab&&s(l)},[n.addOnTab]),s=u.useCallback(l=>{if(l.defaultPrevented)return;const m=l.currentTarget.value;if(!m)return;n.onItemAdd(m)&&(l.currentTarget.value="",n.setHighlightedIndex(null)),l.preventDefault()},[n.onItemAdd,n.setHighlightedIndex]);return u.useEffect(()=>{if(!r)return;const l=requestAnimationFrame(()=>{var m;return(m=n.inputRef.current)==null?void 0:m.focus()});return()=>cancelAnimationFrame(l)},[r,n.inputRef]),u.createElement(de.Primitive.input,{type:"text",id:n.inputId,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:"false",autoFocus:r,"aria-labelledby":n.labelId,"aria-readonly":n.readOnly,"data-invalid":n.isInvalidInput?"":void 0,dir:n.dir,disabled:n.disabled,readOnly:n.readOnly,...o,ref:de.composeRefs(n.inputRef,e),onBlur:de.composeEventHandlers(o.onBlur,l=>{if(!n.readOnly){if(n.blurBehavior==="add"){const m=l.target.value;m&&n.onItemAdd(m)&&(l.target.value="")}n.blurBehavior==="clear"&&(l.target.value="")}}),onChange:de.composeEventHandlers(o.onChange,l=>{if(n.readOnly)return;const m=l.target;if(!(m instanceof HTMLInputElement))return;if(n.delimiter===m.value.slice(-1)){const f=m.value.slice(0,-1);m.value="",f&&(n.onItemAdd(f),n.setHighlightedIndex(null))}}),onKeyDown:de.composeEventHandlers(o.onKeyDown,l=>{n.readOnly||(l.key==="Enter"&&s(l),l.key==="Tab"&&c(l),n.onInputKeydown(l),l.key.length===1&&n.setHighlightedIndex(null))}),onPaste:de.composeEventHandlers(o.onPaste,l=>{if(!n.readOnly&&n.addOnPaste){l.preventDefault();const m=l.clipboardData.getData("text");n.onItemAdd(m,{viaPaste:!0}),n.setHighlightedIndex(null)}})})});os.displayName=rs;var ss=os,qn="TagsInputItemDelete",nr=u.forwardRef((t,e)=>{const r=At(qn),o=tr(qn),n=o.disabled||r.disabled;return o.isEditing?null:u.createElement(de.Primitive.button,{type:"button",tabIndex:n?void 0:-1,"aria-labelledby":o.textId,"aria-controls":o.id,"aria-current":o.isHighlighted,"data-state":o.isHighlighted?"active":"inactive","data-disabled":n?"":void 0,...t,ref:e,onClick:de.composeEventHandlers(t.onClick,()=>{if(n)return;const c=r.value.findIndex(s=>s===o.value);r.onItemRemove(c)})})});nr.displayName=qn;var rl=nr,xn="TagsInputItemText",is=u.forwardRef((t,e)=>{const{children:r,...o}=t,n=At(xn),c=tr(xn);return c.isEditing&&n.editable&&!c.disabled?u.createElement(sl,null):u.createElement(de.Primitive.span,{id:c.textId,...o,ref:e},r??c.displayValue)}),ol=is;function sl(){var m;const t=At(xn),e=tr(xn),[r,o]=u.useState(e.displayValue),n=u.useCallback(()=>{o(e.displayValue),t.setEditingIndex(null)},[t.setEditingIndex,e.displayValue]),c=u.useCallback(a=>{const f=a.target;f.style.width="0",f.style.width=`${f.scrollWidth+4}px`,o(a.target.value)},[]),s=u.useCallback(a=>{a.target.select(),a.target.style.width="0",a.target.style.width=`${a.target.scrollWidth+4}px`},[]),l=u.useCallback(a=>{var f;if(a.key==="Enter"){const b=t.value.findIndex(v=>v===e.value);t.onItemUpdate(b,r)}else a.key==="Escape"&&(o(e.displayValue),t.setEditingIndex(null),t.setHighlightedIndex(e.index),(f=t.inputRef.current)==null||f.focus());a.stopPropagation()},[t.value,t.onItemUpdate,t.setEditingIndex,e.displayValue,(m=t.inputRef.current)==null?void 0:m.focus,r,e.value,t.setHighlightedIndex,e.index]);return u.createElement(de.Primitive.input,{type:"text",autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:"false",autoFocus:!0,"aria-describedby":e.textId,value:r,onChange:c,onKeyDown:l,onFocus:s,onBlur:n,style:{outline:"none",background:"inherit",border:"none",font:"inherit",color:"inherit",padding:0,minWidth:"1ch"}})}var cs="TagsInputClear",ls=u.forwardRef((t,e)=>{const{forceMount:r,...o}=t,n=At(cs);return u.createElement(de.Presence,{present:r||n.value.length>0},u.createElement(de.Primitive.button,{type:"button","aria-disabled":n.disabled,"data-state":n.value.length>0?"visible":"invisible","data-disabled":n.disabled?"":void 0,...o,ref:e,onClick:de.composeEventHandlers(t.onClick,()=>{var c;n.disabled||(n.onValueChange([]),(c=n.inputRef.current)==null||c.focus())})}))});ls.displayName=cs;var us=ls;const as=u.forwardRef(({className:t,...e},r)=>k.jsx(Zo,{"data-slot":"tags-input",ref:r,className:Zt("flex w-[380px] flex-col gap-2",t),...e}));as.displayName=Zo.displayName;const fs=u.forwardRef(({className:t,...e},r)=>k.jsx(es,{"data-slot":"tags-input-label",ref:r,className:Zt("font-medium text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));fs.displayName=es.displayName;const ds=u.forwardRef(({className:t,...e},r)=>k.jsx("div",{"data-slot":"tags-input-list",ref:r,className:Zt("flex min-h-10 w-full flex-wrap items-center gap-1.5 rounded-md border border-input bg-background px-3 py-2 text-sm focus-within:ring-1 focus-within:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),...e}));ds.displayName="TagsInputList";const ms=u.forwardRef(({className:t,...e},r)=>k.jsx(ss,{"data-slot":"tags-input-input",ref:r,className:Zt("flex-1 bg-transparent outline-hidden placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e}));ms.displayName=ss.displayName;const ps=u.forwardRef(({className:t,children:e,...r},o)=>k.jsxs(ns,{"data-slot":"tags-input-item",ref:o,className:Zt("inline-flex max-w-[calc(100%-8px)] items-center gap-1.5 rounded border bg-transparent px-2.5 py-1 text-sm focus:outline-hidden data-disabled:cursor-not-allowed data-editable:select-none data-editing:bg-transparent data-disabled:opacity-50 data-editing:ring-1 data-editing:ring-ring [&:not([data-editing])]:pr-1.5 [&[data-highlighted]:not([data-editing])]:bg-accent [&[data-highlighted]:not([data-editing])]:text-accent-foreground",t),...r,children:[k.jsx(ol,{className:"truncate",children:e}),k.jsx(rl,{className:"h-4 w-4 shrink-0 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100",children:k.jsx(lo,{className:"h-3.5 w-3.5"})})]}));ps.displayName=ns.displayName;const gs=u.forwardRef(({className:t,...e},r)=>k.jsx(us,{"data-slot":"tags-input-clear",ref:r,...e}));gs.displayName=us.displayName;function il(t){return si({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}const cl=on.object({windowTitles:on.array(on.string()).nonempty("Please enter at least one window title!"),interval:on.number().optional()}),Xn="OVERLAY_SETTINGS",ll=()=>{var n,c;const t=zn({...uo({path:{key:Xn}}),select:s=>JSON.parse(s),retry:1}),e=Wn({...bi()}),r=vi({resolver:hi(cl),values:{windowTitles:((n=t.data)==null?void 0:n.windowTitles)??["NPJB00512","BLJS10250"],interval:((c=t.data)==null?void 0:c.interval)??300}});async function o(s){try{const l=JSON.stringify(s,null,2);await e.mutateAsync({body:{key:Xn,value:l}}),await t.refetch(),r.reset(),$t(k.jsxs("div",{children:[k.jsx("p",{children:"The following values have been saved into config:"}),k.jsx("pre",{className:"mt-2 w-[340px] rounded-md bg-slate-950 p-4",children:k.jsx("code",{className:"text-white",children:l})})]}))}catch(l){console.error("Form submission error",l),$t.error("Failed to submit the form. Please try again.")}}return t.error?k.jsx("p",{children:"Failed to retrieve settings!"}):t.isLoading?k.jsx("p",{children:"Loading.."}):k.jsx(ui,{...r,children:k.jsxs("form",{onSubmit:r.handleSubmit(o),className:"space-y-8 max-w-3xl mx-auto",children:[k.jsx(ai,{control:r.control,name:"windowTitles",render:({field:s})=>k.jsxs(fi,{children:[k.jsxs(as,{value:s.value,onValueChange:s.onChange,className:"w-full",editable:!0,children:[k.jsx(fs,{children:k.jsx(di,{children:"Window Titles"})}),k.jsx(mi,{children:k.jsxs(ds,{children:[s.value.map(l=>k.jsxs(ps,{value:l,children:[k.jsx(is,{}),k.jsx(nr,{})]},l)),k.jsx(ms,{placeholder:"Add window title...",className:"w-fit"})]})}),k.jsx(gs,{asChild:!0,children:k.jsxs(ii,{variant:"outline",children:[k.jsx(Ri,{className:"h-4 w-4"}),"Clear"]})})]}),k.jsx(pi,{children:"The window titles to search for the listener to attach to."}),k.jsx(gi,{})]})}),k.jsxs(co,{type:"submit",className:"w-full",icon:il,iconPlacement:"right",children:[e.isPending&&k.jsx(yi.spinner,{className:"size-4 mr-2 animate-spin","aria-hidden":"true"}),"Submit"]})]})})},Sl=function(){const e=zn({queryKey:["overlay_listener"],queryFn:async()=>await Ut("get_listener")}),r=zn({...uo({path:{key:Xn}}),select:b=>JSON.parse(b)}),o=e.data,n=ci(),c=Ii(),[s,l]=u.useState(!1);u.useEffect(()=>{if(!c)return;const b=Pn("overlay-started",y=>{n.setQueryData(["overlay_listener"],!0)}),v=Pn("overlay-progress",y=>{l(y.payload.target_window_found)}),h=Pn("overlay-stopped",y=>{n.setQueryData(["overlay_listener"],!1)});return()=>{b.then(),v.then(),h.then()}},[c]);const m=Wn({mutationFn:async()=>{var v,h;if(!r.data){$t.error("Failed to start listener, no settings has been retrieved!");return}const b={interval:((v=r.data)==null?void 0:v.interval)??300,keywords:((h=r.data)==null?void 0:h.windowTitles)??[""]};await Ut("start_listening",b),$t.message("Listener started!")}}),a=Wn({mutationFn:async()=>{await Ut("stop_listening"),$t.message("Listener stopped!")}});async function f(){c||(o?a.mutate():m.mutate())}return k.jsx("div",{className:"flex justify-center",children:k.jsxs("div",{className:"w-4xl py-10 p-8 pt-6 grid gap-6",children:[k.jsxs(Rr,{children:[k.jsx(Er,{children:k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("div",{children:[k.jsx(Ir,{children:"Overlay Session"}),k.jsx(Cr,{children:"Control the overlay listener"})]}),o?s?k.jsxs(sn,{variant:"default",children:[k.jsx(xi,{className:"h-3 w-3 mr-1"}),"Window detected - Overlay active"]}):k.jsxs(sn,{variant:"destructive",children:[k.jsx(lo,{className:"h-3 w-3 mr-1"}),"Window not detected"]}):c?k.jsx(sn,{variant:"destructive",children:"Listener stopped"}):k.jsx(sn,{variant:"destructive",children:"Not supported in browser"})]})}),k.jsxs(Sr,{children:[k.jsx(li,{}),k.jsx(co,{disabled:!c,icon:wi,iconPlacement:"right",variant:o?"destructive":"default",onClick:f,className:"w-full",children:o?"Stop Listener":"Start Listener"})]})]}),k.jsxs(Rr,{children:[k.jsx(Er,{children:k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("div",{children:[k.jsx(Ir,{children:"Customize Overlay"}),k.jsx(Cr,{children:o?"Stop the listener to customize overlay listener settings":"Adjust settings on the overlay listener"})]}),o&&k.jsx("div",{className:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold bg-yellow-100 text-yellow-800 border-yellow-200",children:k.jsx("span",{children:"Locked while listener is active"})})]})}),k.jsx(Sr,{children:k.jsx(ll,{})})]})]})})};export{Sl as component};
