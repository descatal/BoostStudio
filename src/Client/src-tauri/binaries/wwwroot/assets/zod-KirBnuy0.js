import{j as c,r as f,c as l,i as I}from"./index-_vJHe0oM.js";import{F as C,C as b,a as E,b as N,g as h,s as x,c as V}from"./index-Cljsltwk.js";import{L as P}from"./label-5eQ_BX-X.js";const L=C,g=f.createContext({}),O=({...r})=>c.jsx(g.Provider,{value:{name:r.name},children:c.jsx(b,{...r})}),u=()=>{const r=f.useContext(g),o=f.useContext(F),{getFieldState:e}=E(),t=N({name:r.name}),n=e(r.name,t);if(!r)throw new Error("useFormField should be used within <FormField>");const{id:i}=o;return{id:i,name:r.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...n}},F=f.createContext({});function U({className:r,...o}){const e=f.useId();return c.jsx(F.Provider,{value:{id:e},children:c.jsx("div",{"data-slot":"form-item",className:l("grid gap-2",r),...o})})}function k({className:r,...o}){const{error:e,formItemId:t}=u();return c.jsx(P,{"data-slot":"form-label","data-error":!!e,className:l("data-[error=true]:text-destructive",r),htmlFor:t,...o})}function R({...r}){const{error:o,formItemId:e,formDescriptionId:t,formMessageId:n}=u();return c.jsx(I,{"data-slot":"form-control",id:e,"aria-describedby":o?`${t} ${n}`:`${t}`,"aria-invalid":!!o,...r})}function W({className:r,...o}){const{formDescriptionId:e}=u();return c.jsx("p",{"data-slot":"form-description",id:e,className:l("text-muted-foreground text-sm",r),...o})}function q({className:r,...o}){const{error:e,formMessageId:t}=u(),n=e?String((e==null?void 0:e.message)??""):o.children;return n?c.jsx("p",{"data-slot":"form-message",id:t,className:l("text-destructive text-sm",r),...o,children:n}):null}const v=(r,o,e)=>{if(r&&"reportValidity"in r){const t=h(e,o);r.setCustomValidity(t&&t.message||""),r.reportValidity()}},p=(r,o)=>{for(const e in o.fields){const t=o.fields[e];t&&t.ref&&"reportValidity"in t.ref?v(t.ref,e,r):t.refs&&t.refs.forEach(n=>v(n,e,r))}},S=(r,o)=>{o.shouldUseNativeValidation&&p(r,o);const e={};for(const t in r){const n=h(o.fields,t),i=Object.assign(r[t]||{},{ref:n&&n.ref});if(w(o.names||Object.keys(r),t)){const s=Object.assign({},h(e,t));x(s,"root",i),x(e,t,s)}else x(e,t,i)}return e},w=(r,o)=>r.some(e=>e.startsWith(o+"."));var M=function(r,o){for(var e={};r.length;){var t=r[0],n=t.code,i=t.message,s=t.path.join(".");if(!e[s])if("unionErrors"in t){var a=t.unionErrors[0].errors[0];e[s]={message:a.message,type:a.code}}else e[s]={message:i,type:n};if("unionErrors"in t&&t.unionErrors.forEach(function(y){return y.errors.forEach(function(j){return r.push(j)})}),o){var m=e[s].types,d=m&&m[t.code];e[s]=V(s,o,e,n,d?[].concat(d,t.message):t.message)}r.shift()}return e},z=function(r,o,e){return e===void 0&&(e={}),function(t,n,i){try{return Promise.resolve(function(s,a){try{var m=Promise.resolve(r[e.mode==="sync"?"parse":"parseAsync"](t,o)).then(function(d){return i.shouldUseNativeValidation&&p({},i),{errors:{},values:e.raw?t:d}})}catch(d){return a(d)}return m&&m.then?m.then(void 0,a):m}(0,function(s){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(s))return{values:{},errors:S(M(s.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw s}))}catch(s){return Promise.reject(s)}}};export{L as F,O as a,U as b,k as c,R as d,W as e,q as f,z as t};
